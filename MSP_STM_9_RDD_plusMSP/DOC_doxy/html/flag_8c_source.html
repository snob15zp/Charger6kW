<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Charger6kW: D:/user/github/Charger6kW/MSP_STM_9_RDD_plusMSP/MSP430/flag.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Charger6kW
   &#160;<span id="projectnumber">9</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_56021fdb0e8b9a80f75a9a8cba132c6e.html">MSP430</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">flag.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="flag_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//-------------------------------------------------------------------</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// File: flag.c</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// Project: CY CoolMax MPPT</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// Device: MSP430F247</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// Author: Monte MacDiarmid, Tritium Pty Ltd.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// Description: </span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// History:</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//   2010-07-07: original</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//-------------------------------------------------------------------</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="flag_8h.html">flag.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="flash_8h.html">flash.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="util_8h.html">util.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="time_8h.html">time.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cfg_8h.html">cfg.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="meas_8h.html">meas.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="io_8h.html">io.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="safety_8h.html">safety.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#ifdef DBG_HARDCODED_VIN_SETPOINT</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ctrl_8h.html">ctrl.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// This should be chosen such that it divides evenly into BLOCK_SIZE</span></div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="flag_8c.html#ac2e359066b06ade1b369f111027160a8">   27</a></span>&#160;<span class="preprocessor">#define FLAG_LOG_ENTRY_SIZE     8</span></div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="flag_8c.html#ab4684b73f26e2ba8480f340331717cad">   28</a></span>&#160;<span class="preprocessor">#define FLAG_BUFFER_ENTRY_SIZE  ( FLAG_LOG_ENTRY_SIZE - sizeof(FLAG_Code) )</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="struct_flag__.html">   30</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_flag__.html">Flag_</a></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;{</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="comment">// Buffer to hold flags to be written to flash</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="comment">// The buffer is treated as an array of 6-byte timestamps that are indexed using the FLAG_Code enum</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="comment">// The buffer is initialised to 0xFF all</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="comment">// When a flag should be logged, the timestamp is written to the buffer at the index of the specified flag</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="comment">// This buffer is then read, and flags with timestamps of 0xFFFFFFFFFFFF are considered inactive,</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="comment">//      while any other timestamp value is logged as a flag and the buffer value returned to 0xFF...</span></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="struct_flag__.html#a4b2c4b147d76204f660bfb91b455d277">   38</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct_flag__.html#a4b2c4b147d76204f660bfb91b455d277">buffer</a>[ <a class="code" href="flag_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba5a403bb281c1b231f0af904ce6e57c09">FLAG_CODE_NUM</a> * <a class="code" href="flag_8c.html#ab4684b73f26e2ba8480f340331717cad">FLAG_BUFFER_ENTRY_SIZE</a> ]; </div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">   39</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">currentAddr</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="struct_flag__.html#aa5af8f3ad629ed487f3399607f9b149a">   40</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="struct_flag__.html#aa5af8f3ad629ed487f3399607f9b149a">activeSectorAddr</a>;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="struct_flag__.html#aec193b6d82c6e773eaf8a78881be5ef6">   41</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_flag__.html#aec193b6d82c6e773eaf8a78881be5ef6">activeSectorNum</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">   42</a></span>&#160;    <a class="code" href="flag_8h.html#a9206b3246d892fa62e8cd3bc727d3897">FlagBitfield</a> <a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">   43</a></span>&#160;    <a class="code" href="flag_8h.html#a9206b3246d892fa62e8cd3bc727d3897">FlagBitfield</a> <a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="struct_flag__.html#a15dbb16f45f42db1bb53dfedb2024681">   44</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_flag__.html#a15dbb16f45f42db1bb53dfedb2024681">isReadyToCheck</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="struct_flag__.html#aa310c76c769b2a9c3473d8af807d445f">   45</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_flag__.html#aa310c76c769b2a9c3473d8af807d445f">isReadyToWrite</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="struct_flag__.html#a6a953a622098aae9a49b66396fdd2f03">   46</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_flag__.html#a6a953a622098aae9a49b66396fdd2f03">isErasing</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="flag_8c.html#a5ef29bd8c6ba7b16287afd9a9235b57a">   47</a></span>&#160;} <a class="code" href="flag_8c.html#a5ef29bd8c6ba7b16287afd9a9235b57a">Flag</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="struct_flag_states__.html">   49</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_flag_states__.html">FlagStates_</a></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="struct_flag_states__.html#ace5f68cedfd0c8a424ae4a4a29270a25">   51</a></span>&#160;    <a class="code" href="flag_8h.html#a5175b1cbec917c270b76a468b7710d58">FLAG_State</a>  <a class="code" href="struct_flag_states__.html#ace5f68cedfd0c8a424ae4a4a29270a25">systemInitFlag</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="struct_flag_states__.html#a04a1a52a8a5a4b27257f3b3f12a8a2b8">   52</a></span>&#160;    <a class="code" href="struct_flag_state__.html">FlagState</a>   <a class="code" href="struct_flag_states__.html#a04a1a52a8a5a4b27257f3b3f12a8a2b8">lowOutVoltWarnFlag</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="struct_flag_states__.html#aa0d8d6e6ea659fe2a9a9bd5bdec77bce">   53</a></span>&#160;    <a class="code" href="struct_flag_state__.html">FlagState</a>   <a class="code" href="struct_flag_states__.html#aa0d8d6e6ea659fe2a9a9bd5bdec77bce">lowOutVoltFaultFlag</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="struct_flag_states__.html#acce21b8d33eea2630321e589627d692c">   54</a></span>&#160;    <a class="code" href="struct_flag_state__.html">FlagState</a>   <a class="code" href="struct_flag_states__.html#acce21b8d33eea2630321e589627d692c">lowOutVoltGensetFlag</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="struct_flag_states__.html#a18ded2f74b34dcaa651aa6f506a050d5">   55</a></span>&#160;    <a class="code" href="struct_flag_state__.html">FlagState</a>   <a class="code" href="struct_flag_states__.html#a18ded2f74b34dcaa651aa6f506a050d5">highOutVoltFaultFlag</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="struct_flag_states__.html#ac24ffde5331403b10c06362c048c4e2b">   56</a></span>&#160;    <a class="code" href="struct_flag_state__.html">FlagState</a>   <a class="code" href="struct_flag_states__.html#ac24ffde5331403b10c06362c048c4e2b">highOutCurrFaultFlag</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="struct_flag_states__.html#a20b5d70400ba9c9585480d2c82200f31">   57</a></span>&#160;    <a class="code" href="struct_flag_state__.html">FlagState</a>   <a class="code" href="struct_flag_states__.html#a20b5d70400ba9c9585480d2c82200f31">highDisCurrFaultFlag</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="struct_flag_states__.html#ab0792e2feed7794e7eac963d90c24c87">   58</a></span>&#160;    <a class="code" href="struct_flag_state__.html">FlagState</a>   <a class="code" href="struct_flag_states__.html#ab0792e2feed7794e7eac963d90c24c87">highTempFaultFlag</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="struct_flag_states__.html#ac3f5a884881552a6e3828406696da14f">   59</a></span>&#160;    <a class="code" href="flag_8h.html#a5175b1cbec917c270b76a468b7710d58">FLAG_State</a>  <a class="code" href="struct_flag_states__.html#ac3f5a884881552a6e3828406696da14f">inBreakerOpenFlag</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="struct_flag_states__.html#ae1c1098f196b031e27ce2ffc915d5a03">   60</a></span>&#160;    <a class="code" href="flag_8h.html#a5175b1cbec917c270b76a468b7710d58">FLAG_State</a>  <a class="code" href="struct_flag_states__.html#ae1c1098f196b031e27ce2ffc915d5a03">outBreakerOpenFlag</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="struct_flag_states__.html#aed4fd1f662eddab4d07fff091ac70770">   61</a></span>&#160;    <a class="code" href="flag_8h.html#a5175b1cbec917c270b76a468b7710d58">FLAG_State</a>  <a class="code" href="struct_flag_states__.html#aed4fd1f662eddab4d07fff091ac70770">tempSenseFaultFlag</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="struct_flag_states__.html#afb5ef5887210a22d7493f5e3c7fc61d2">   62</a></span>&#160;    <a class="code" href="flag_8h.html#a5175b1cbec917c270b76a468b7710d58">FLAG_State</a>  <a class="code" href="struct_flag_states__.html#afb5ef5887210a22d7493f5e3c7fc61d2">sdFlags</a>[<a class="code" href="safety_8h.html#a96b07e0a94728b0d19ad8aa3c6d83092">SAFETY_NUM_SD_REASONS</a>];</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="struct_flag_states__.html#ab00ba0e6c0a0fe97d0871e3fa293a26a">   63</a></span>&#160;    <a class="code" href="flag_8h.html#a5175b1cbec917c270b76a468b7710d58">FLAG_State</a>  <a class="code" href="struct_flag_states__.html#ab00ba0e6c0a0fe97d0871e3fa293a26a">logFullFlag</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="struct_flag_states__.html#a4267ff9cf2eabb5d6e6285a7eee46a1b">   64</a></span>&#160;    <a class="code" href="struct_flag_state__.html">FlagState</a>   <a class="code" href="struct_flag_states__.html#a4267ff9cf2eabb5d6e6285a7eee46a1b">panelMissingFlag</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="struct_flag_states__.html#a8b914407fcb8ca5ff478c6d6338b8d14">   65</a></span>&#160;    <a class="code" href="flag_8h.html#a5175b1cbec917c270b76a468b7710d58">FLAG_State</a>  <a class="code" href="struct_flag_states__.html#a8b914407fcb8ca5ff478c6d6338b8d14">badCfgRangeFlag</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="flag_8c.html#a19d50117242c662bea811c1835733564">   66</a></span>&#160;} <a class="code" href="flag_8c.html#a19d50117242c662bea811c1835733564">FlagStates</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">   68</a></span>&#160;<a class="code" href="struct_flag__.html">Flag</a> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">   70</a></span>&#160;<a class="code" href="struct_flag_states__.html">FlagStates</a> <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keywordtype">int</span> <a class="code" href="flag_8c.html#ad5e62314a7030826015c7aead4d4046a">FLAG_swapActiveSector</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="flag_8h.html#af1e384a896629d690755efb5496005b6">   74</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="flag_8c.html#af1e384a896629d690755efb5496005b6">FLAG_init</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="time_8h.html#acec39cfa27244239e16da42f602e2561">Time</a> earliestTime, currentTime;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> earliestSector = 0;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a15dbb16f45f42db1bb53dfedb2024681">isReadyToCheck</a> = 0;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aa310c76c769b2a9c3473d8af807d445f">isReadyToWrite</a> = 0;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a6a953a622098aae9a49b66396fdd2f03">isErasing</a> = 0;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="flag_8c.html#aca929b2ff9043d2ccb2ba63217d87094">FLAG_initTrigs</a>();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// Init states </span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ace5f68cedfd0c8a424ae4a4a29270a25">systemInitFlag</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a04a1a52a8a5a4b27257f3b3f12a8a2b8">lowOutVoltWarnFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#aa0d8d6e6ea659fe2a9a9bd5bdec77bce">lowOutVoltFaultFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#acce21b8d33eea2630321e589627d692c">lowOutVoltGensetFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a18ded2f74b34dcaa651aa6f506a050d5">highOutVoltFaultFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ac24ffde5331403b10c06362c048c4e2b">highOutCurrFaultFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a20b5d70400ba9c9585480d2c82200f31">highDisCurrFaultFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ab0792e2feed7794e7eac963d90c24c87">highTempFaultFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ac3f5a884881552a6e3828406696da14f">inBreakerOpenFlag</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ae1c1098f196b031e27ce2ffc915d5a03">outBreakerOpenFlag</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#aed4fd1f662eddab4d07fff091ac70770">tempSenseFaultFlag</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">for</span> ( ii = 0; ii &lt; <a class="code" href="safety_8h.html#a96b07e0a94728b0d19ad8aa3c6d83092">SAFETY_NUM_SD_REASONS</a>; ii++ )</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#afb5ef5887210a22d7493f5e3c7fc61d2">sdFlags</a>[ii] = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ab00ba0e6c0a0fe97d0871e3fa293a26a">logFullFlag</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a4267ff9cf2eabb5d6e6285a7eee46a1b">panelMissingFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a8b914407fcb8ca5ff478c6d6338b8d14">badCfgRangeFlag</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> = 0;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> = 0;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// Init last change times for time hysterisis / hold timing</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a04a1a52a8a5a4b27257f3b3f12a8a2b8">lowOutVoltWarnFlag</a>.<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> = 0;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#aa0d8d6e6ea659fe2a9a9bd5bdec77bce">lowOutVoltFaultFlag</a>.<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> = 0;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#acce21b8d33eea2630321e589627d692c">lowOutVoltGensetFlag</a>.<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> = 0;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a18ded2f74b34dcaa651aa6f506a050d5">highOutVoltFaultFlag</a>.<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> = 0;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ac24ffde5331403b10c06362c048c4e2b">highOutCurrFaultFlag</a>.<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> = 0;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a20b5d70400ba9c9585480d2c82200f31">highDisCurrFaultFlag</a>.<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> = 0;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ab0792e2feed7794e7eac963d90c24c87">highTempFaultFlag</a>.<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> = 0;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a4267ff9cf2eabb5d6e6285a7eee46a1b">panelMissingFlag</a>.<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> = 0;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// Init the flag buffer to all 0xFF</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">for</span> ( ii = 0; ii &lt; <a class="code" href="flag_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba5a403bb281c1b231f0af904ce6e57c09">FLAG_CODE_NUM</a> * <a class="code" href="flag_8c.html#ab4684b73f26e2ba8480f340331717cad">FLAG_BUFFER_ENTRY_SIZE</a>; ii++ )</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4b2c4b147d76204f660bfb91b455d277">buffer</a>[ii] = 0xFF;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// Find the first empty spot in the flag log</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">for</span> ( <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">currentAddr</a> = <a class="code" href="flash_8h.html#a39372d0efd84eddb3e4ff46b9d106ffb">FLASH_FLAG_ADDR</a>; <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">currentAddr</a> &lt; <a class="code" href="flash_8h.html#a39372d0efd84eddb3e4ff46b9d106ffb">FLASH_FLAG_ADDR</a> + <a class="code" href="flag_8c.html#aa7b99d7c513bb6fd74f0eefaf97669f3">FLAG_getFlagLen</a>(); <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">currentAddr</a> += <a class="code" href="flag_8c.html#ac2e359066b06ade1b369f111027160a8">FLAG_LOG_ENTRY_SIZE</a> )</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flash_8c.html#aa0e000ec75e59cd7b70ea970c026b7b2">FLASH_readU16</a>( <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">currentAddr</a> ) == 0xFFFF )</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="comment">// We&#39;ve found an empty entry</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aa5af8f3ad629ed487f3399607f9b149a">activeSectorAddr</a> = <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">currentAddr</a> &amp; <a class="code" href="flash_8h.html#abffc855754265235469a8839681f0047">ERASE_MASK1</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aec193b6d82c6e773eaf8a78881be5ef6">activeSectorNum</a> = ( <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aa5af8f3ad629ed487f3399607f9b149a">activeSectorAddr</a> - <a class="code" href="flash_8h.html#a39372d0efd84eddb3e4ff46b9d106ffb">FLASH_FLAG_ADDR</a> ) / <a class="code" href="flash_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">currentAddr</a> == <a class="code" href="flash_8h.html#a39372d0efd84eddb3e4ff46b9d106ffb">FLASH_FLAG_ADDR</a> + <a class="code" href="flag_8c.html#aa7b99d7c513bb6fd74f0eefaf97669f3">FLAG_getFlagLen</a>() )</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="comment">// We didn&#39;t find an empty entry, so compare the timestamps of the last entries on all the sectors to see which one is earliest</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        earliestTime = 0xFFFFFFFFFFFFFFFF;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">for</span> ( <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aec193b6d82c6e773eaf8a78881be5ef6">activeSectorNum</a> = 0; <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aec193b6d82c6e773eaf8a78881be5ef6">activeSectorNum</a> &lt; <a class="code" href="flash_8h.html#a091746306a57cabadba8e3eb3a1ff9ec">FLASH_NUM_FLAG_BLOCKS</a>; <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aec193b6d82c6e773eaf8a78881be5ef6">activeSectorNum</a>++ )</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            currentTime = <a class="code" href="flash_8c.html#aee03124ae2e7ee9cd60372805ad47eb4">FLASH_readU64</a>( <a class="code" href="flash_8h.html#a39372d0efd84eddb3e4ff46b9d106ffb">FLASH_FLAG_ADDR</a> + ((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)<a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aec193b6d82c6e773eaf8a78881be5ef6">activeSectorNum</a>+1) * <a class="code" href="flash_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a> - <a class="code" href="flag_8c.html#ac2e359066b06ade1b369f111027160a8">FLAG_LOG_ENTRY_SIZE</a> );</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">if</span> ( currentTime &lt; earliestTime )</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                earliestTime = currentTime;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                earliestSector = <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aec193b6d82c6e773eaf8a78881be5ef6">activeSectorNum</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aec193b6d82c6e773eaf8a78881be5ef6">activeSectorNum</a> = earliestSector;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aa5af8f3ad629ed487f3399607f9b149a">activeSectorAddr</a> = <a class="code" href="flash_8h.html#a39372d0efd84eddb3e4ff46b9d106ffb">FLASH_FLAG_ADDR</a> + (<span class="keywordtype">unsigned</span> long)<a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aec193b6d82c6e773eaf8a78881be5ef6">activeSectorNum</a> * <a class="code" href="flash_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">currentAddr</a> = <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aa5af8f3ad629ed487f3399607f9b149a">activeSectorAddr</a>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        if ( <a class="code" href="flash_8c.html#a600505051d0229fa1cc65c223bdb91ec">FLASH_eraseBlockBusy</a>( <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">currentAddr</a> ) &lt; 0 ) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aa310c76c769b2a9c3473d8af807d445f">isReadyToWrite</a> = 1;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="flag_8h.html#aca929b2ff9043d2ccb2ba63217d87094">  158</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="flag_8c.html#aca929b2ff9043d2ccb2ba63217d87094">FLAG_initTrigs</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">// Init Iq versions of all the trigger and reset values</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment"></span>    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#aa0d8d6e6ea659fe2a9a9bd5bdec77bce">lowOutVoltFaultFlag</a>.<a class="code" href="struct_flag_state__.html#aa3093fb8044ba88b4fc2920d8f9c3892">resetVal</a>     = <a class="code" href="iqmath_8h.html#af9759b8b0d18bc1ef336969dba68a340">IQ_cnst</a>( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a635a3c5f437f8c3e65c56f90de992fd8">lowOutVoltFaultFlag</a>.<a class="code" href="struct_flag_cfg_trig__.html#a69ebc1b8da96e16f0bb25c7710c6aeaf">resetVal</a> / <a class="code" href="meas_8h.html#a307b7c665a816dd0d5439f8bf2702fda">MEAS_OUTVOLT_BASE</a> );</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#acce21b8d33eea2630321e589627d692c">lowOutVoltGensetFlag</a>.<a class="code" href="struct_flag_state__.html#a62653938310900775e13c36d2744a64d">triggerVal</a>  = <a class="code" href="iqmath_8h.html#af9759b8b0d18bc1ef336969dba68a340">IQ_cnst</a>( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a5512fc9c32b9025c0c798f69ef34f054">lowOutVoltGensetFlag</a>.<a class="code" href="struct_flag_cfg_hold__.html#a468eebfe4347eafed43201a7121baea4">triggerVal</a> / <a class="code" href="meas_8h.html#a307b7c665a816dd0d5439f8bf2702fda">MEAS_OUTVOLT_BASE</a> );</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#acce21b8d33eea2630321e589627d692c">lowOutVoltGensetFlag</a>.<a class="code" href="struct_flag_state__.html#aa3093fb8044ba88b4fc2920d8f9c3892">resetVal</a>    = <a class="code" href="iqmath_8h.html#af9759b8b0d18bc1ef336969dba68a340">IQ_cnst</a>( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a5512fc9c32b9025c0c798f69ef34f054">lowOutVoltGensetFlag</a>.<a class="code" href="struct_flag_cfg_hold__.html#a69ebc1b8da96e16f0bb25c7710c6aeaf">resetVal</a> / <a class="code" href="meas_8h.html#a307b7c665a816dd0d5439f8bf2702fda">MEAS_OUTVOLT_BASE</a> );</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a18ded2f74b34dcaa651aa6f506a050d5">highOutVoltFaultFlag</a>.<a class="code" href="struct_flag_state__.html#a62653938310900775e13c36d2744a64d">triggerVal</a>  = <a class="code" href="iqmath_8h.html#af9759b8b0d18bc1ef336969dba68a340">IQ_cnst</a>( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#ab201fafc90bb6192b3316bb80e5d02d2">highOutVoltFaultFlag</a>.<a class="code" href="struct_flag_cfg_trig__.html#a468eebfe4347eafed43201a7121baea4">triggerVal</a> / <a class="code" href="meas_8h.html#a307b7c665a816dd0d5439f8bf2702fda">MEAS_OUTVOLT_BASE</a> );</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a18ded2f74b34dcaa651aa6f506a050d5">highOutVoltFaultFlag</a>.<a class="code" href="struct_flag_state__.html#aa3093fb8044ba88b4fc2920d8f9c3892">resetVal</a>    = <a class="code" href="iqmath_8h.html#af9759b8b0d18bc1ef336969dba68a340">IQ_cnst</a>( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#ab201fafc90bb6192b3316bb80e5d02d2">highOutVoltFaultFlag</a>.<a class="code" href="struct_flag_cfg_trig__.html#a69ebc1b8da96e16f0bb25c7710c6aeaf">resetVal</a> / <a class="code" href="meas_8h.html#a307b7c665a816dd0d5439f8bf2702fda">MEAS_OUTVOLT_BASE</a> );</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a20b5d70400ba9c9585480d2c82200f31">highDisCurrFaultFlag</a>.<a class="code" href="struct_flag_state__.html#aa3093fb8044ba88b4fc2920d8f9c3892">resetVal</a>    = <a class="code" href="iqmath_8h.html#af9759b8b0d18bc1ef336969dba68a340">IQ_cnst</a>( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a6913e09bcce3ffd4e29b3d4f0eb5b0b4">highDisCurrFaultFlag</a>.<a class="code" href="struct_flag_cfg_trig__.html#a69ebc1b8da96e16f0bb25c7710c6aeaf">resetVal</a> / <a class="code" href="meas_8h.html#a71e8c934207a96eca7d23a34ddcb3f90">MEAS_OUTCURR_BASE</a> );</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="flag_8h.html#ac472ddbe41e156a7174f926287a43c4b">  178</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="flag_8c.html#ac472ddbe41e156a7174f926287a43c4b">FLAG_timeHasUpdated</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a15dbb16f45f42db1bb53dfedb2024681">isReadyToCheck</a> = 1;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a10b606a83af726b5f567de7189a19b3f">systemInitFlag</a>.<a class="code" href="struct_flag_cfg_simple__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> != <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9acb0408b9c4c36bddfdfeb1a95be62e80">FLAG_DISABLED</a> )</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648aeb3db3c64f20bc0c5739b9eb627bbb91">FLAG_CODE_SYSTEM_INIT</a>, 1 );</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="flag_8h.html#a4802475e4bd18405f54f989159673921">  187</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="flag_8c.html#a4802475e4bd18405f54f989159673921">FLAG_getStatus</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">return</span> ( <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a15dbb16f45f42db1bb53dfedb2024681">isReadyToCheck</a> | (<a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aa310c76c769b2a9c3473d8af807d445f">isReadyToWrite</a>&lt;&lt;1) | (<a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a6a953a622098aae9a49b66396fdd2f03">isErasing</a>&lt;&lt;2) );</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="flag_8h.html#ab422bfe8ad33c4503144a508451cbb84">  192</a></span>&#160;<a class="code" href="flag_8h.html#a9206b3246d892fa62e8cd3bc727d3897">FlagBitfield</a> <a class="code" href="flag_8c.html#ab422bfe8ad33c4503144a508451cbb84">FLAG_getFlagBitfield</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;{</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="flag_8c.html#ad5e62314a7030826015c7aead4d4046a">  197</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="flag_8c.html#ad5e62314a7030826015c7aead4d4046a">FLAG_swapActiveSector</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tempSector = <a class="code" href="util_8c.html#ae814ed393bade374040e928161feb70f">UTIL_modAdd</a>( <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aec193b6d82c6e773eaf8a78881be5ef6">activeSectorNum</a>, 1, <a class="code" href="flash_8h.html#a091746306a57cabadba8e3eb3a1ff9ec">FLASH_NUM_FLAG_BLOCKS</a> );</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="flash_8c.html#a600505051d0229fa1cc65c223bdb91ec">FLASH_eraseBlockBusy</a>( <a class="code" href="flash_8h.html#a39372d0efd84eddb3e4ff46b9d106ffb">FLASH_FLAG_ADDR</a> + (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)tempSector * <a class="code" href="flash_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a> ) &lt; 0 )</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="comment">// Erase failed, try again next time</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// Erase succeeded</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aec193b6d82c6e773eaf8a78881be5ef6">activeSectorNum</a> = tempSector;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aa5af8f3ad629ed487f3399607f9b149a">activeSectorAddr</a> = <a class="code" href="flash_8h.html#a39372d0efd84eddb3e4ff46b9d106ffb">FLASH_FLAG_ADDR</a> + (<span class="keywordtype">unsigned</span> long)<a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aec193b6d82c6e773eaf8a78881be5ef6">activeSectorNum</a> * <a class="code" href="flash_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">currentAddr</a> = <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aa5af8f3ad629ed487f3399607f9b149a">activeSectorAddr</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="flag_8h.html#ad8dd4c09516a95fabbf683abf17e4df3">  213</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="flag_8c.html#ad8dd4c09516a95fabbf683abf17e4df3">FLAG_checkAllFlags</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;{</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordtype">int</span> ii;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">//if ( !flag.isReady ) return;</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">// Check the state of all flag-triggering quantities, and buffer flags if required</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// NOTE: don&#39;t check system init flag, this is called seperately</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a855613aba85834bc8c2b463fbc1faa27">lowOutVoltWarnFlag</a>.<a class="code" href="struct_flag_cfg_trig__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> != <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9acb0408b9c4c36bddfdfeb1a95be62e80">FLAG_DISABLED</a> )</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a04a1a52a8a5a4b27257f3b3f12a8a2b8">lowOutVoltWarnFlag</a>.<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> = <a class="code" href="meas_8c.html#a9e5c86e6e0a3f5c1240163c45c08cb74">meas</a>.<a class="code" href="struct_meas__.html#a7ef4d6038742dcb807bb268d7f36c290">outVolt</a>.<a class="code" href="struct_adc_comms_meas__.html#acde755fe40f15fdf3280ab4bf8e68f70">val</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="flag_8c.html#a05e46a08ca0eb3286e50c210b58f779e">FLAG_checkFlagTrig</a>( &amp;<a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a04a1a52a8a5a4b27257f3b3f12a8a2b8">lowOutVoltWarnFlag</a>, &amp;<a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a855613aba85834bc8c2b463fbc1faa27">lowOutVoltWarnFlag</a>, <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a636e271db8fc768aaed72f96ffe8cb94">FLAG_CODE_LOW_OUT_VOLT_WARN</a> );</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="comment">//COMMS_sendDebugPacket( flagStates.lowOutVoltWarnFlag.currentVal, flagStates.lowOutVoltWarnFlag.triggerVal );</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a635a3c5f437f8c3e65c56f90de992fd8">lowOutVoltFaultFlag</a>.<a class="code" href="struct_flag_cfg_trig__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> != <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9acb0408b9c4c36bddfdfeb1a95be62e80">FLAG_DISABLED</a> )</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#aa0d8d6e6ea659fe2a9a9bd5bdec77bce">lowOutVoltFaultFlag</a>.<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> = <a class="code" href="meas_8c.html#a9e5c86e6e0a3f5c1240163c45c08cb74">meas</a>.<a class="code" href="struct_meas__.html#a7ef4d6038742dcb807bb268d7f36c290">outVolt</a>.<a class="code" href="struct_adc_comms_meas__.html#acde755fe40f15fdf3280ab4bf8e68f70">val</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="flag_8c.html#a05e46a08ca0eb3286e50c210b58f779e">FLAG_checkFlagTrig</a>( &amp;<a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#aa0d8d6e6ea659fe2a9a9bd5bdec77bce">lowOutVoltFaultFlag</a>, &amp;<a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a635a3c5f437f8c3e65c56f90de992fd8">lowOutVoltFaultFlag</a>, <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a2b50f4d54116de8c8f40317a5d2d217a">FLAG_CODE_LOW_OUT_VOLT_FAULT</a> );</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a5512fc9c32b9025c0c798f69ef34f054">lowOutVoltGensetFlag</a>.<a class="code" href="struct_flag_cfg_hold__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> != <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9acb0408b9c4c36bddfdfeb1a95be62e80">FLAG_DISABLED</a> )</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#acce21b8d33eea2630321e589627d692c">lowOutVoltGensetFlag</a>.<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> = <a class="code" href="meas_8c.html#a9e5c86e6e0a3f5c1240163c45c08cb74">meas</a>.<a class="code" href="struct_meas__.html#a7ef4d6038742dcb807bb268d7f36c290">outVolt</a>.<a class="code" href="struct_adc_comms_meas__.html#acde755fe40f15fdf3280ab4bf8e68f70">val</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="flag_8c.html#ad7e060124da21f3ed10800be4f36a08b">FLAG_checkFlagHold</a>( &amp;<a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#acce21b8d33eea2630321e589627d692c">lowOutVoltGensetFlag</a>, &amp;<a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a5512fc9c32b9025c0c798f69ef34f054">lowOutVoltGensetFlag</a>, <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648ac44e90119e0c271251614ffca092fa8d">FLAG_CODE_LOW_OUT_VOLT_GENSET</a> );</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#ab201fafc90bb6192b3316bb80e5d02d2">highOutVoltFaultFlag</a>.<a class="code" href="struct_flag_cfg_trig__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> != <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9acb0408b9c4c36bddfdfeb1a95be62e80">FLAG_DISABLED</a> )</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a18ded2f74b34dcaa651aa6f506a050d5">highOutVoltFaultFlag</a>.<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> = <a class="code" href="meas_8c.html#a9e5c86e6e0a3f5c1240163c45c08cb74">meas</a>.<a class="code" href="struct_meas__.html#a7ef4d6038742dcb807bb268d7f36c290">outVolt</a>.<a class="code" href="struct_adc_comms_meas__.html#acde755fe40f15fdf3280ab4bf8e68f70">val</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <a class="code" href="flag_8c.html#a05e46a08ca0eb3286e50c210b58f779e">FLAG_checkFlagTrig</a>( &amp;<a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a18ded2f74b34dcaa651aa6f506a050d5">highOutVoltFaultFlag</a>, &amp;<a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#ab201fafc90bb6192b3316bb80e5d02d2">highOutVoltFaultFlag</a>, <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a04b70dc70399923a874a3ddac6757352">FLAG_CODE_HIGH_OUT_VOLT_FAULT</a> );</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a4992dc91cd9afd06cb5bad9b62970eb5">highOutCurrFaultFlag</a>.<a class="code" href="struct_flag_cfg_trig__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> != <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9acb0408b9c4c36bddfdfeb1a95be62e80">FLAG_DISABLED</a> )</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ac24ffde5331403b10c06362c048c4e2b">highOutCurrFaultFlag</a>.<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> = <a class="code" href="meas_8c.html#a9e5c86e6e0a3f5c1240163c45c08cb74">meas</a>.<a class="code" href="struct_meas__.html#a3df2b34c41decd2b137e1b1408a9a054">outCurr</a>.<a class="code" href="struct_adc_comms_meas__.html#acde755fe40f15fdf3280ab4bf8e68f70">val</a>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <a class="code" href="flag_8c.html#a05e46a08ca0eb3286e50c210b58f779e">FLAG_checkFlagTrig</a>( &amp;<a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ac24ffde5331403b10c06362c048c4e2b">highOutCurrFaultFlag</a>, &amp;<a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a4992dc91cd9afd06cb5bad9b62970eb5">highOutCurrFaultFlag</a>, <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a13bf85a1e5dc5321f9363170ef801d95">FLAG_CODE_HIGH_OUT_CURR_FAULT</a> );</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a6913e09bcce3ffd4e29b3d4f0eb5b0b4">highDisCurrFaultFlag</a>.<a class="code" href="struct_flag_cfg_trig__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> != <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9acb0408b9c4c36bddfdfeb1a95be62e80">FLAG_DISABLED</a> )</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a20b5d70400ba9c9585480d2c82200f31">highDisCurrFaultFlag</a>.<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> = <a class="code" href="iqmath_8h.html#af9759b8b0d18bc1ef336969dba68a340">IQ_cnst</a>(0.0);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <a class="code" href="flag_8c.html#a05e46a08ca0eb3286e50c210b58f779e">FLAG_checkFlagTrig</a>( &amp;<a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a20b5d70400ba9c9585480d2c82200f31">highDisCurrFaultFlag</a>, &amp;<a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a6913e09bcce3ffd4e29b3d4f0eb5b0b4">highDisCurrFaultFlag</a>, <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648aeff1b15770d803d50df90ae862bf9b21">FLAG_CODE_HIGH_DIS_CURR_FAULT</a> );</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#aae57210458eeff68e3078c93f8f9cdc6">highTempFaultFlag</a>.<a class="code" href="struct_flag_cfg_trig__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> != <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9acb0408b9c4c36bddfdfeb1a95be62e80">FLAG_DISABLED</a> )</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ab0792e2feed7794e7eac963d90c24c87">highTempFaultFlag</a>.<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> = <a class="code" href="meas_8c.html#a9e5c86e6e0a3f5c1240163c45c08cb74">meas</a>.<a class="code" href="struct_meas__.html#ab0d517158af88ba0ca0d527d807b9ec7">batTempr</a>.<a class="code" href="struct_comms_meas__.html#acde755fe40f15fdf3280ab4bf8e68f70">val</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <a class="code" href="flag_8c.html#a05e46a08ca0eb3286e50c210b58f779e">FLAG_checkFlagTrig</a>( &amp;<a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ab0792e2feed7794e7eac963d90c24c87">highTempFaultFlag</a>, &amp;<a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#aae57210458eeff68e3078c93f8f9cdc6">highTempFaultFlag</a>, <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a0a1b0f71d883585a5c47382d1bc5fadf">FLAG_CODE_HIGH_TEMP_FAULT</a> );</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a5da4bf78703b19e54153b798fc456531">inBreakerOpenFlag</a>.<a class="code" href="struct_flag_cfg_simple__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> != <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9acb0408b9c4c36bddfdfeb1a95be62e80">FLAG_DISABLED</a> )</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ac3f5a884881552a6e3828406696da14f">inBreakerOpenFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a> &amp;&amp; <a class="code" href="io_8h.html#a767218971fe7fe6f1da525a5ff100743">IO_INBREAKER_OPEN</a> )</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ac3f5a884881552a6e3828406696da14f">inBreakerOpenFlag</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a26f43827c14540c6a20606264598065f">FLAG_CODE_IN_BREAKER_OPEN</a>, 1 );</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ac3f5a884881552a6e3828406696da14f">inBreakerOpenFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> &amp;&amp; !<a class="code" href="io_8h.html#a767218971fe7fe6f1da525a5ff100743">IO_INBREAKER_OPEN</a> )</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ac3f5a884881552a6e3828406696da14f">inBreakerOpenFlag</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a26f43827c14540c6a20606264598065f">FLAG_CODE_IN_BREAKER_OPEN</a>, 0 );</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ac3f5a884881552a6e3828406696da14f">inBreakerOpenFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> |= (1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a26f43827c14540c6a20606264598065f">FLAG_CODE_IN_BREAKER_OPEN</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> &amp;= ~(1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a26f43827c14540c6a20606264598065f">FLAG_CODE_IN_BREAKER_OPEN</a>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ac3f5a884881552a6e3828406696da14f">inBreakerOpenFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> &amp;&amp; <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a5da4bf78703b19e54153b798fc456531">inBreakerOpenFlag</a>.<a class="code" href="struct_flag_cfg_simple__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> == <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9a1d27687d9c17100999f3cf7b178d7993">FLAG_LOG_AND_RELAY</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> |= (1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a26f43827c14540c6a20606264598065f">FLAG_CODE_IN_BREAKER_OPEN</a>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> &amp;= ~(1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a26f43827c14540c6a20606264598065f">FLAG_CODE_IN_BREAKER_OPEN</a>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a88f969138b242c0d238fa32df466ed14">outBreakerOpenFlag</a>.<a class="code" href="struct_flag_cfg_simple__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> != <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9acb0408b9c4c36bddfdfeb1a95be62e80">FLAG_DISABLED</a> )</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ae1c1098f196b031e27ce2ffc915d5a03">outBreakerOpenFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a> &amp;&amp; <a class="code" href="io_8h.html#ac8195188d2653a31fdbee4a0da93ac37">IO_OUTBREAKER_OPEN</a> )</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ae1c1098f196b031e27ce2ffc915d5a03">outBreakerOpenFlag</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a7e0c000dec72360452262043080c936e">FLAG_CODE_OUT_BREAKER_OPEN</a>, 1 );</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ae1c1098f196b031e27ce2ffc915d5a03">outBreakerOpenFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> &amp;&amp; !<a class="code" href="io_8h.html#ac8195188d2653a31fdbee4a0da93ac37">IO_OUTBREAKER_OPEN</a> )</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ae1c1098f196b031e27ce2ffc915d5a03">outBreakerOpenFlag</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a7e0c000dec72360452262043080c936e">FLAG_CODE_OUT_BREAKER_OPEN</a>, 0 );</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ae1c1098f196b031e27ce2ffc915d5a03">outBreakerOpenFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> |= (1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a7e0c000dec72360452262043080c936e">FLAG_CODE_OUT_BREAKER_OPEN</a>);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> &amp;= ~(1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a7e0c000dec72360452262043080c936e">FLAG_CODE_OUT_BREAKER_OPEN</a>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ae1c1098f196b031e27ce2ffc915d5a03">outBreakerOpenFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> &amp;&amp; <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a88f969138b242c0d238fa32df466ed14">outBreakerOpenFlag</a>.<a class="code" href="struct_flag_cfg_simple__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> == <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9a1d27687d9c17100999f3cf7b178d7993">FLAG_LOG_AND_RELAY</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> |= (1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a7e0c000dec72360452262043080c936e">FLAG_CODE_OUT_BREAKER_OPEN</a>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> &amp;= ~(1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a7e0c000dec72360452262043080c936e">FLAG_CODE_OUT_BREAKER_OPEN</a>);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a19b050a5c87369298a57cda5fee64440">tempSenseFaultFlag</a>.<a class="code" href="struct_flag_cfg_simple__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> != <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9acb0408b9c4c36bddfdfeb1a95be62e80">FLAG_DISABLED</a> )</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#aed4fd1f662eddab4d07fff091ac70770">tempSenseFaultFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a> &amp;&amp; <a class="code" href="meas_8c.html#a9e5c86e6e0a3f5c1240163c45c08cb74">meas</a>.<a class="code" href="struct_meas__.html#a4b9437ab56a510bc0d01554010d845a9">batTemprFault</a> )</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#aed4fd1f662eddab4d07fff091ac70770">tempSenseFaultFlag</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648acc3d873e9945b3b22486957e646f1154">FLAG_CODE_TEMP_SENSE_FAULT</a>, 1 );</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#aed4fd1f662eddab4d07fff091ac70770">tempSenseFaultFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> &amp;&amp; !<a class="code" href="meas_8c.html#a9e5c86e6e0a3f5c1240163c45c08cb74">meas</a>.<a class="code" href="struct_meas__.html#a4b9437ab56a510bc0d01554010d845a9">batTemprFault</a> )</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#aed4fd1f662eddab4d07fff091ac70770">tempSenseFaultFlag</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648acc3d873e9945b3b22486957e646f1154">FLAG_CODE_TEMP_SENSE_FAULT</a>, 0 );</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#aed4fd1f662eddab4d07fff091ac70770">tempSenseFaultFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> |= (1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648acc3d873e9945b3b22486957e646f1154">FLAG_CODE_TEMP_SENSE_FAULT</a>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> &amp;= ~(1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648acc3d873e9945b3b22486957e646f1154">FLAG_CODE_TEMP_SENSE_FAULT</a>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#aed4fd1f662eddab4d07fff091ac70770">tempSenseFaultFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> &amp;&amp; <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a19b050a5c87369298a57cda5fee64440">tempSenseFaultFlag</a>.<a class="code" href="struct_flag_cfg_simple__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> == <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9a1d27687d9c17100999f3cf7b178d7993">FLAG_LOG_AND_RELAY</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> |= (1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648acc3d873e9945b3b22486957e646f1154">FLAG_CODE_TEMP_SENSE_FAULT</a>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> &amp;= ~(1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648acc3d873e9945b3b22486957e646f1154">FLAG_CODE_TEMP_SENSE_FAULT</a>);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">for</span> ( ii = 0; ii &lt; <a class="code" href="safety_8h.html#a96b07e0a94728b0d19ad8aa3c6d83092">SAFETY_NUM_SD_REASONS</a>; ii++ )        </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">if</span> ( (ii &gt; <a class="code" href="safety_8h.html#a74f6c2fcac81272db35c8493ed09efce">SAFETY_SD_BIT_OUTVOLT</a>) || (<a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a3274e4a9718776017f8b91f9f4f8e2cd">sdFlags</a>[ii].<a class="code" href="struct_flag_cfg_simple__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> != <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9acb0408b9c4c36bddfdfeb1a95be62e80">FLAG_DISABLED</a>) ) <span class="comment">//The last 2 SAFETY_SD_REASONs, CASETMP and FLAG, is not in the cfg as of revision 133, so don&#39;t check if its enabled/disabled.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordflow">if</span> ( <a class="code" href="safety_8c.html#ab6bd84b2121177f96e2e38373ff80e80">SAFETY_isShutdown</a>( ii ) )</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#afb5ef5887210a22d7493f5e3c7fc61d2">sdFlags</a>[ii] == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a> )</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a398b7df2d64e8a7666f2fce3c10f84a1">FLAG_CODE_FIRST_SD</a> + ii, 1 );</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#afb5ef5887210a22d7493f5e3c7fc61d2">sdFlags</a>[ii] = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#afb5ef5887210a22d7493f5e3c7fc61d2">sdFlags</a>[ii] == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                    <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a398b7df2d64e8a7666f2fce3c10f84a1">FLAG_CODE_FIRST_SD</a> + ii, 0 );</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#afb5ef5887210a22d7493f5e3c7fc61d2">sdFlags</a>[ii] = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#afb5ef5887210a22d7493f5e3c7fc61d2">sdFlags</a>[ii] == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> |= (1ull&lt;&lt;(<a class="code" href="flag_8h.html#a398b7df2d64e8a7666f2fce3c10f84a1">FLAG_CODE_FIRST_SD</a>+ii));</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> &amp;= ~(1ull&lt;&lt;(<a class="code" href="flag_8h.html#a398b7df2d64e8a7666f2fce3c10f84a1">FLAG_CODE_FIRST_SD</a>+ii));</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordflow">if</span> ( ii &lt;= <a class="code" href="safety_8h.html#a74f6c2fcac81272db35c8493ed09efce">SAFETY_SD_BIT_OUTVOLT</a> &amp;&amp; <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#afb5ef5887210a22d7493f5e3c7fc61d2">sdFlags</a>[ii] == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> &amp;&amp; <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a3274e4a9718776017f8b91f9f4f8e2cd">sdFlags</a>[ii].<a class="code" href="struct_flag_cfg_simple__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> == <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9a1d27687d9c17100999f3cf7b178d7993">FLAG_LOG_AND_RELAY</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> |= (1ull&lt;&lt;(<a class="code" href="flag_8h.html#a398b7df2d64e8a7666f2fce3c10f84a1">FLAG_CODE_FIRST_SD</a>+ii));</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> &amp;= ~(1ull&lt;&lt;(<a class="code" href="flag_8h.html#a398b7df2d64e8a7666f2fce3c10f84a1">FLAG_CODE_FIRST_SD</a>+ii));</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a29125dc931871c4e28dd8fe7eeb86286">logFullFlag</a>.<a class="code" href="struct_flag_cfg_simple__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> != <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9acb0408b9c4c36bddfdfeb1a95be62e80">FLAG_DISABLED</a> )</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ab00ba0e6c0a0fe97d0871e3fa293a26a">logFullFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> |= (1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a01ae454c2d16e05aa462ce9c18dabeff">FLAG_CODE_LOG_FULL</a>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> &amp;= ~(1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a01ae454c2d16e05aa462ce9c18dabeff">FLAG_CODE_LOG_FULL</a>);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ab00ba0e6c0a0fe97d0871e3fa293a26a">logFullFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> &amp;&amp; <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a29125dc931871c4e28dd8fe7eeb86286">logFullFlag</a>.<a class="code" href="struct_flag_cfg_simple__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> == <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9a1d27687d9c17100999f3cf7b178d7993">FLAG_LOG_AND_RELAY</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> |= (1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a01ae454c2d16e05aa462ce9c18dabeff">FLAG_CODE_LOG_FULL</a>);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> &amp;= ~(1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a01ae454c2d16e05aa462ce9c18dabeff">FLAG_CODE_LOG_FULL</a>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="comment">//if ( CFG_remoteCfg.panelMissingFlag.mode != FLAG_DISABLED ) //Removed for code space.</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="comment">//{</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">//  flagStates.panelMissingFlag.currentVal = meas.pvOcVolt.val;</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="comment">//  FLAG_checkFlagSched( &amp;flagStates.panelMissingFlag, &amp;CFG_remoteCfg.panelMissingFlag, FLAG_CODE_PANEL_MISSING );</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">//}</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">if</span> ( 1 ) <span class="comment">//( CFG_remoteCfg.badCfgRange.mode != FLAG_DISABLED )</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a8b914407fcb8ca5ff478c6d6338b8d14">badCfgRangeFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a> &amp;&amp; !<a class="code" href="cfg_8c.html#a2e3f61c31333043dcc47cad39cc273e5">CFG_configRangesOk</a>() )</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a8b914407fcb8ca5ff478c6d6338b8d14">badCfgRangeFlag</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a82eac092c8bd13b575315f4a73eaff71">FLAG_CODE_BAD_CFG_RANGE</a>, 1 );</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a8b914407fcb8ca5ff478c6d6338b8d14">badCfgRangeFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> &amp;&amp; <a class="code" href="cfg_8c.html#a2e3f61c31333043dcc47cad39cc273e5">CFG_configRangesOk</a>() )</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a8b914407fcb8ca5ff478c6d6338b8d14">badCfgRangeFlag</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a82eac092c8bd13b575315f4a73eaff71">FLAG_CODE_BAD_CFG_RANGE</a>, 0 );</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a8b914407fcb8ca5ff478c6d6338b8d14">badCfgRangeFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> |= (1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a82eac092c8bd13b575315f4a73eaff71">FLAG_CODE_BAD_CFG_RANGE</a>);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> &amp;= ~(1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a82eac092c8bd13b575315f4a73eaff71">FLAG_CODE_BAD_CFG_RANGE</a>);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a8b914407fcb8ca5ff478c6d6338b8d14">badCfgRangeFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> &amp;&amp; <a class="code" href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a>.<a class="code" href="struct_remote_cfg__.html#a88f969138b242c0d238fa32df466ed14">outBreakerOpenFlag</a>.<a class="code" href="struct_flag_cfg_simple__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> == <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9a1d27687d9c17100999f3cf7b178d7993">FLAG_LOG_AND_RELAY</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> |= (1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a82eac092c8bd13b575315f4a73eaff71">FLAG_CODE_BAD_CFG_RANGE</a>);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> &amp;= ~(1ull&lt;&lt;<a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a82eac092c8bd13b575315f4a73eaff71">FLAG_CODE_BAD_CFG_RANGE</a>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">#ifndef DEBUG_LED_SAMPLE</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="preprocessor">#ifdef DBG_HARDCODED_VIN_SETPOINT</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">// Ignore relay events for turbine. Turn relay on when in bulk mode.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="io_8c.html#a772113c6d38522f0c29c7eef1641ba23">IO_setRelay</a>( <a class="code" href="ctrl_01_07_xD0_x9A_xD0_xBE_xD0_xBD_xD1_x84_xD0_xBB_xD0_xB8_xD0_xBA_xD1_x82_xD1_x83_xD1_x8E_xD1_x289479354af9cbc005bd3481d783ccac.html#a958621ef16064ef6370f513c1767ed26">CTRL_setpointIsBulk</a>() &amp;&amp; !<a class="code" href="ctrl_01_07_xD0_x9A_xD0_xBE_xD0_xBD_xD1_x84_xD0_xBB_xD0_xB8_xD0_xBA_xD1_x82_xD1_x83_xD1_x8E_xD1_x289479354af9cbc005bd3481d783ccac.html#a280e482bfd33be53e24f016826ebb5d2">CTRL_isTurbineLoadEnabled</a>() );</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">// Returns &gt; 0 if state changed as a result of this check</span></div>
<div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="flag_8h.html#a05e46a08ca0eb3286e50c210b58f779e">  378</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="flag_8c.html#a05e46a08ca0eb3286e50c210b58f779e">FLAG_checkFlagTrig</a>( <a class="code" href="struct_flag_state__.html">FlagState</a> * pState, <a class="code" href="struct_flag_cfg_trig__.html">FlagCfgTrig</a> * pCfg, <a class="code" href="flag_8h.html#a0979fdb1457f3b974b2e4e22922839ba">FLAG_Code</a> code )</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;{</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="time_8h.html#acec39cfa27244239e16da42f602e2561">Time</a> currentTime = <a class="code" href="time_8c.html#a1ca2585daaf0d210adde4129c7454bee">TIME_get</a>();</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordtype">int</span> isPosTrig;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordtype">int</span> didChange = 0;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    isPosTrig = ( pState-&gt;<a class="code" href="struct_flag_state__.html#a62653938310900775e13c36d2744a64d">triggerVal</a> &gt;= pState-&gt;<a class="code" href="struct_flag_state__.html#aa3093fb8044ba88b4fc2920d8f9c3892">resetVal</a> );</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">if</span> ( ( ( pState-&gt;<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> &gt;= pState-&gt;<a class="code" href="struct_flag_state__.html#a62653938310900775e13c36d2744a64d">triggerVal</a> ) &amp;&amp; isPosTrig ) || ( ( pState-&gt;<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> &lt;= pState-&gt;<a class="code" href="struct_flag_state__.html#a62653938310900775e13c36d2744a64d">triggerVal</a> ) &amp;&amp; !isPosTrig ) )</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">if</span> ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a> || pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a31b24f54094b6234ab30cf9ff2ccbfb5">FLAG_STATE_INACTIVE_HYST</a> )</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a224fdfbe9f3e65245f3cc8ed770a7077">FLAG_STATE_ACTIVE_HYST</a>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            pState-&gt;<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> = currentTime;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a224fdfbe9f3e65245f3cc8ed770a7077">FLAG_STATE_ACTIVE_HYST</a> &amp;&amp; currentTime &gt;= ( pState-&gt;<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> + pCfg-&gt;<a class="code" href="struct_flag_cfg_trig__.html#a3ed69542270318482052373ac701f154">hystTime</a> ) )</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( code, 1 );</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            didChange = 1;  </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">if</span> ( ( ( pState-&gt;<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> &lt;= pState-&gt;<a class="code" href="struct_flag_state__.html#aa3093fb8044ba88b4fc2920d8f9c3892">resetVal</a> ) &amp;&amp; isPosTrig ) || ( ( pState-&gt;<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> &gt;= pState-&gt;<a class="code" href="struct_flag_state__.html#aa3093fb8044ba88b4fc2920d8f9c3892">resetVal</a> ) &amp;&amp; !isPosTrig ) )</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordflow">if</span> ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> || pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a224fdfbe9f3e65245f3cc8ed770a7077">FLAG_STATE_ACTIVE_HYST</a> )</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a31b24f54094b6234ab30cf9ff2ccbfb5">FLAG_STATE_INACTIVE_HYST</a>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            pState-&gt;<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> = currentTime;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a31b24f54094b6234ab30cf9ff2ccbfb5">FLAG_STATE_INACTIVE_HYST</a> &amp;&amp; currentTime &gt;= ( pState-&gt;<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> + pCfg-&gt;<a class="code" href="struct_flag_cfg_trig__.html#a3ed69542270318482052373ac701f154">hystTime</a> ) )</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( code, 0 );</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            didChange = 1;  </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">if</span> ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> || pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a31b24f54094b6234ab30cf9ff2ccbfb5">FLAG_STATE_INACTIVE_HYST</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> |= (1ull&lt;&lt;code);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> &amp;= ~(1ull&lt;&lt;code);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span> ( ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> || pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a31b24f54094b6234ab30cf9ff2ccbfb5">FLAG_STATE_INACTIVE_HYST</a> ) &amp;&amp; pCfg-&gt;<a class="code" href="struct_flag_cfg_trig__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> == <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9a1d27687d9c17100999f3cf7b178d7993">FLAG_LOG_AND_RELAY</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> |= (1ull&lt;&lt;code);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> &amp;= ~(1ull&lt;&lt;code);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">return</span> didChange;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">// Returns &gt; 0 if state changed as a result of this check</span></div>
<div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="flag_8h.html#ad7e060124da21f3ed10800be4f36a08b">  425</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="flag_8c.html#ad7e060124da21f3ed10800be4f36a08b">FLAG_checkFlagHold</a>( <a class="code" href="struct_flag_state__.html">FlagState</a> * pState, <a class="code" href="struct_flag_cfg_hold__.html">FlagCfgHold</a> * pCfg, <a class="code" href="flag_8h.html#a0979fdb1457f3b974b2e4e22922839ba">FLAG_Code</a> code )</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="code" href="time_8h.html#acec39cfa27244239e16da42f602e2561">Time</a> currentTime = <a class="code" href="time_8c.html#a1ca2585daaf0d210adde4129c7454bee">TIME_get</a>();</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordtype">int</span> isPosTrig;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordtype">int</span> didChange = 0;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">// Hold time</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">if</span> ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> &amp;&amp; currentTime &lt; ( pState-&gt;<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> + pCfg-&gt;<a class="code" href="struct_flag_cfg_hold__.html#a8bfb40a822e45fc7b616f5a0c7f89457">holdTime</a> ) ) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    isPosTrig = ( pState-&gt;<a class="code" href="struct_flag_state__.html#a62653938310900775e13c36d2744a64d">triggerVal</a> &gt;= pState-&gt;<a class="code" href="struct_flag_state__.html#aa3093fb8044ba88b4fc2920d8f9c3892">resetVal</a> );</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">if</span> ( ( ( pState-&gt;<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> &gt;= pState-&gt;<a class="code" href="struct_flag_state__.html#a62653938310900775e13c36d2744a64d">triggerVal</a> ) &amp;&amp; isPosTrig ) || ( ( pState-&gt;<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> &lt;= pState-&gt;<a class="code" href="struct_flag_state__.html#a62653938310900775e13c36d2744a64d">triggerVal</a> ) &amp;&amp; !isPosTrig ) )</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keywordflow">if</span> ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a> || pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a31b24f54094b6234ab30cf9ff2ccbfb5">FLAG_STATE_INACTIVE_HYST</a> )</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a224fdfbe9f3e65245f3cc8ed770a7077">FLAG_STATE_ACTIVE_HYST</a>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            pState-&gt;<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> = currentTime;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a224fdfbe9f3e65245f3cc8ed770a7077">FLAG_STATE_ACTIVE_HYST</a> &amp;&amp; currentTime &gt;= ( pState-&gt;<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> + pCfg-&gt;<a class="code" href="struct_flag_cfg_hold__.html#a3ed69542270318482052373ac701f154">hystTime</a> ) )</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( code, 1 );</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            didChange = 1;  </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">if</span> ( ( ( pState-&gt;<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> &lt;= pState-&gt;<a class="code" href="struct_flag_state__.html#aa3093fb8044ba88b4fc2920d8f9c3892">resetVal</a> ) &amp;&amp; isPosTrig ) || ( ( pState-&gt;<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> &gt;= pState-&gt;<a class="code" href="struct_flag_state__.html#aa3093fb8044ba88b4fc2920d8f9c3892">resetVal</a> ) &amp;&amp; !isPosTrig ) )</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">if</span> ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> || pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a224fdfbe9f3e65245f3cc8ed770a7077">FLAG_STATE_ACTIVE_HYST</a> )</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a31b24f54094b6234ab30cf9ff2ccbfb5">FLAG_STATE_INACTIVE_HYST</a>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            pState-&gt;<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> = currentTime;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a31b24f54094b6234ab30cf9ff2ccbfb5">FLAG_STATE_INACTIVE_HYST</a> &amp;&amp; currentTime &gt;= ( pState-&gt;<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> + pCfg-&gt;<a class="code" href="struct_flag_cfg_hold__.html#a3ed69542270318482052373ac701f154">hystTime</a> ) )</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( code, 0 );</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            didChange = 1;  </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">if</span> ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> || pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a31b24f54094b6234ab30cf9ff2ccbfb5">FLAG_STATE_INACTIVE_HYST</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> |= (1&lt;&lt;code);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> &amp;= ~(1&lt;&lt;code);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span> ( ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> || pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a31b24f54094b6234ab30cf9ff2ccbfb5">FLAG_STATE_INACTIVE_HYST</a> ) &amp;&amp; pCfg-&gt;<a class="code" href="struct_flag_cfg_hold__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> == <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9a1d27687d9c17100999f3cf7b178d7993">FLAG_LOG_AND_RELAY</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> |= (1ull&lt;&lt;code);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> &amp;= ~(1ull&lt;&lt;code);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">return</span> didChange;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;}</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">// Returns &gt; 0 if state changed as a result of this check</span></div>
<div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="flag_8h.html#a4dd8d8002de067bab2d7b3e567d890e4">  475</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="flag_8c.html#a4dd8d8002de067bab2d7b3e567d890e4">FLAG_checkFlagSched</a>( <a class="code" href="struct_flag_state__.html">FlagState</a> * pState, <a class="code" href="struct_flag_cfg_sched__.html">FlagCfgSched</a> * pCfg, <a class="code" href="flag_8h.html#a0979fdb1457f3b974b2e4e22922839ba">FLAG_Code</a> code )</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;{</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordtype">int</span> didChange = 0;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="time_8h.html#aa8186792daee31af5d3169ca1e1d7fdd">TimeShort</a> timeSinceToday = <a class="code" href="time_8c.html#ae642892d9072569bdf04904a32ad58a4">TIME_getSinceToday</a>();</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="time_8c.html#a24e7aeeab93196b66c6a830aafdd3433">TIME_isToday</a>( pState-&gt;<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> ) ) <span class="comment">// Use hystStartTime to record when the flag was last checked</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="comment">// We&#39;ve checked this flag today, and would have logged it if active, so make it inactive now no matter what</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="comment">//pState-&gt;currentState = FLAG_STATE_INACTIVE;</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( timeSinceToday &gt;= pCfg-&gt;<a class="code" href="struct_flag_cfg_sched__.html#a0925fa2528b51e4b7b4c0de18828c1bd">checkTime</a> ) &amp;&amp; ( timeSinceToday &lt; ( pCfg-&gt;<a class="code" href="struct_flag_cfg_sched__.html#a0925fa2528b51e4b7b4c0de18828c1bd">checkTime</a> + 10000 ) ) )</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = ( pState-&gt;<a class="code" href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">currentVal</a> &lt; pState-&gt;<a class="code" href="struct_flag_state__.html#a62653938310900775e13c36d2744a64d">triggerVal</a> ) ? <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> : <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        pState-&gt;<a class="code" href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">hystStartTime</a> = <a class="code" href="time_8c.html#a1ca2585daaf0d210adde4129c7454bee">TIME_get</a>();</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keywordflow">if</span> ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( code, 1 );</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            didChange = 1;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="comment">//else if ( pState-&gt;currentState == FLAG_STATE_INACTIVE )</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="comment">//{</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="comment">//  FLAG_logFlag( code, 0 );</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="comment">//  didChange = 1;</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="comment">//}</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="comment">//COMMS_sendDebugPacket( timeSinceToday &gt;&gt; 16, timeSinceToday, pCfg-&gt;checkTime &gt;&gt; 16, pCfg-&gt;checkTime );</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="comment">//COMMS_sendDebugPacket( pState-&gt;currentState, didChange, pState-&gt;currentVal, pState-&gt;triggerVal );</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( timeSinceToday &gt; ( pCfg-&gt;<a class="code" href="struct_flag_cfg_sched__.html#a0925fa2528b51e4b7b4c0de18828c1bd">checkTime</a> + 10000 ) )</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="comment">// Time is before check time, so make flag inactive</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> = <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">if</span> ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> || pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a31b24f54094b6234ab30cf9ff2ccbfb5">FLAG_STATE_INACTIVE_HYST</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> |= (1&lt;&lt;code);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">flagBitfield</a> &amp;= ~(1&lt;&lt;code);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">if</span> ( ( pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> || pState-&gt;<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a31b24f54094b6234ab30cf9ff2ccbfb5">FLAG_STATE_INACTIVE_HYST</a> ) &amp;&amp; pCfg-&gt;<a class="code" href="struct_flag_cfg_sched__.html#a3252067045c18caa89e6f40f54fecdea">mode</a> == <a class="code" href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9a1d27687d9c17100999f3cf7b178d7993">FLAG_LOG_AND_RELAY</a> ) <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> |= (1ull&lt;&lt;code);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">flagBitfieldRelay</a> &amp;= ~(1ull&lt;&lt;code);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">return</span> didChange;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="flag_8h.html#aa1dbaf2631cf74d8be01d658469703bd">  518</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a0979fdb1457f3b974b2e4e22922839ba">FLAG_Code</a> code, <span class="keywordtype">int</span> isActive )</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;{</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a15dbb16f45f42db1bb53dfedb2024681">isReadyToCheck</a> )</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="comment">//Time tm = 0x0123456789ABCDEF;</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <a class="code" href="time_8h.html#acec39cfa27244239e16da42f602e2561">Time</a> tm = ( <a class="code" href="time_8c.html#a1ca2585daaf0d210adde4129c7454bee">TIME_get</a>() &amp; 0x00007FFFFFFFFFFF );</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">if</span> ( isActive ) tm |=    0x0000800000000000; <span class="comment">// This indicates that the activation of a flag is being logged, rather than the inactivation</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">for</span> ( ii = 0; ii &lt; <a class="code" href="flag_8c.html#ab4684b73f26e2ba8480f340331717cad">FLAG_BUFFER_ENTRY_SIZE</a>; ii++ )</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4b2c4b147d76204f660bfb91b455d277">buffer</a>[code*<a class="code" href="flag_8c.html#ab4684b73f26e2ba8480f340331717cad">FLAG_BUFFER_ENTRY_SIZE</a>+ii] = *( (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)&amp;tm + ii );</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;}</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno"><a class="line" href="flag_8h.html#ab3ff960238742c47ed6d322b0a18b8f2">  535</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="flag_8c.html#a18693e81ae788340618a0f298f20c8ff">FLAG_checkAndWrite</a>()</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;{</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> tempFlagLog[<a class="code" href="flag_8c.html#ac2e359066b06ade1b369f111027160a8">FLAG_LOG_ENTRY_SIZE</a>];</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="flag_8h.html#a0979fdb1457f3b974b2e4e22922839ba">FLAG_Code</a> code;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="flag_8c.html#ad8dd4c09516a95fabbf683abf17e4df3">FLAG_checkAllFlags</a>();</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> ( !<a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aa310c76c769b2a9c3473d8af807d445f">isReadyToWrite</a> || <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a6a953a622098aae9a49b66396fdd2f03">isErasing</a> ) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="comment">// Swap sectors if we&#39;ve filled this one up</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">currentAddr</a> - <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aa5af8f3ad629ed487f3399607f9b149a">activeSectorAddr</a> &gt;= <a class="code" href="flash_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a> )</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ad5e62314a7030826015c7aead4d4046a">FLAG_swapActiveSector</a>() &lt; 0 )</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <span class="comment">// Active sector swap failed, try again next time</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="comment">//COMMS_sendDebugPacket( *(unsigned int *)(flag.buffer + FLAG_CODE_POWERON*FLAG_BUFFER_ENTRY_SIZE) );</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="comment">// Check all the flag buffer entries and write any active flags to flash</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">for</span> ( code = <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648aca2bc7eade338f153cf3bcbcde04e07c">FLAG_CODE_MIN</a>; code &lt;= <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648ab5ff19750eaf96cc6351e351e7760ebd">FLAG_CODE_MAX</a>; code++ )</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">if</span> (        *(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *)(<a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4b2c4b147d76204f660bfb91b455d277">buffer</a> + code*<a class="code" href="flag_8c.html#ab4684b73f26e2ba8480f340331717cad">FLAG_BUFFER_ENTRY_SIZE</a>) != 0xFFFF</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                ||  *(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *)(<a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4b2c4b147d76204f660bfb91b455d277">buffer</a> + code*<a class="code" href="flag_8c.html#ab4684b73f26e2ba8480f340331717cad">FLAG_BUFFER_ENTRY_SIZE</a> + 2) != 0xFFFF</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                ||  *(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *)(<a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4b2c4b147d76204f660bfb91b455d277">buffer</a> + code*<a class="code" href="flag_8c.html#ab4684b73f26e2ba8480f340331717cad">FLAG_BUFFER_ENTRY_SIZE</a> + 4) != 0xFFFF )</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <span class="comment">// This flag is active, so write to flash</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <span class="keywordflow">if</span> ( <a class="code" href="flash_8c.html#ad22a0c7cf5ff4b7669394986fd889df7">FLASH_startWrite</a>( <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">currentAddr</a>, <a class="code" href="flag_8c.html#ac2e359066b06ade1b369f111027160a8">FLAG_LOG_ENTRY_SIZE</a> ) &gt;= 0 )</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                *(<a class="code" href="flag_8h.html#a0979fdb1457f3b974b2e4e22922839ba">FLAG_Code</a> *)tempFlagLog = code;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="keywordflow">for</span> ( ii = 0; ii &lt; <a class="code" href="flag_8c.html#ab4684b73f26e2ba8480f340331717cad">FLAG_BUFFER_ENTRY_SIZE</a>; ii++ )</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                    tempFlagLog[ii+<span class="keyword">sizeof</span>(<a class="code" href="flag_8h.html#a0979fdb1457f3b974b2e4e22922839ba">FLAG_Code</a>)] = <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4b2c4b147d76204f660bfb91b455d277">buffer</a>[code*<a class="code" href="flag_8c.html#ab4684b73f26e2ba8480f340331717cad">FLAG_BUFFER_ENTRY_SIZE</a>+ii];</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                <span class="keywordflow">if</span> ( <a class="code" href="flash_8c.html#a824adb1e4989c662e38cb5238726330e">FLASH_writeStr</a>( tempFlagLog, <a class="code" href="flag_8c.html#ac2e359066b06ade1b369f111027160a8">FLAG_LOG_ENTRY_SIZE</a> ) &gt;= 0 )</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                    <span class="comment">// Make the flag inactive again once it has been written</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                    <span class="keywordflow">for</span> ( ii = 0; ii &lt; <a class="code" href="flag_8c.html#ab4684b73f26e2ba8480f340331717cad">FLAG_BUFFER_ENTRY_SIZE</a>; ii++ )</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                    {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                        <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a4b2c4b147d76204f660bfb91b455d277">buffer</a>[code*<a class="code" href="flag_8c.html#ab4684b73f26e2ba8480f340331717cad">FLAG_BUFFER_ENTRY_SIZE</a>+ii] = 0xFF;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                    }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                    <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">currentAddr</a> += <a class="code" href="flag_8c.html#ac2e359066b06ade1b369f111027160a8">FLAG_LOG_ENTRY_SIZE</a>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                    <span class="comment">//COMMS_sendDebugPacket( code );</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <span class="comment">// Only write one flag per call, so return now</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;}</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno"><a class="line" href="flag_8h.html#a571475aba4730fc723b5a660f42b1900">  591</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="flag_8c.html#a1dcc3f19f5e1a4804970820153bb8b51">FLAG_eraseStarted</a>()</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;{</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a6a953a622098aae9a49b66396fdd2f03">isErasing</a> = 1;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="flag_8h.html#a92cfe34941d4c588f3d8d4b58017a3b6">  596</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="flag_8c.html#a92cfe34941d4c588f3d8d4b58017a3b6">FLAG_eraseDoneCallback</a>(<span class="keywordtype">int</span> retVal)</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;{</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordtype">int</span> ii;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#a6a953a622098aae9a49b66396fdd2f03">isErasing</a> = 0;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">if</span> ( retVal &gt;= 0 )</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="comment">// Reset to start of first sector</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aec193b6d82c6e773eaf8a78881be5ef6">activeSectorNum</a> = 0;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aa5af8f3ad629ed487f3399607f9b149a">activeSectorAddr</a> = <a class="code" href="flash_8h.html#a39372d0efd84eddb3e4ff46b9d106ffb">FLASH_FLAG_ADDR</a>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">currentAddr</a> = <a class="code" href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a>.<a class="code" href="struct_flag__.html#aa5af8f3ad629ed487f3399607f9b149a">activeSectorAddr</a>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="comment">// Re-trigger logging of currently active flags</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ace5f68cedfd0c8a424ae4a4a29270a25">systemInitFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )                       <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648aeb3db3c64f20bc0c5739b9eb627bbb91">FLAG_CODE_SYSTEM_INIT</a>, 1 );</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a04a1a52a8a5a4b27257f3b3f12a8a2b8">lowOutVoltWarnFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )      <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a636e271db8fc768aaed72f96ffe8cb94">FLAG_CODE_LOW_OUT_VOLT_WARN</a>, 1 );</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#aa0d8d6e6ea659fe2a9a9bd5bdec77bce">lowOutVoltFaultFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )     <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a2b50f4d54116de8c8f40317a5d2d217a">FLAG_CODE_LOW_OUT_VOLT_FAULT</a>, 1 );</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#acce21b8d33eea2630321e589627d692c">lowOutVoltGensetFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )    <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648ac44e90119e0c271251614ffca092fa8d">FLAG_CODE_LOW_OUT_VOLT_GENSET</a>, 1 );</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a18ded2f74b34dcaa651aa6f506a050d5">highOutVoltFaultFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )    <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a04b70dc70399923a874a3ddac6757352">FLAG_CODE_HIGH_OUT_VOLT_FAULT</a>, 1 );</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ac24ffde5331403b10c06362c048c4e2b">highOutCurrFaultFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )    <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a13bf85a1e5dc5321f9363170ef801d95">FLAG_CODE_HIGH_OUT_CURR_FAULT</a>, 1 );</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a20b5d70400ba9c9585480d2c82200f31">highDisCurrFaultFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )    <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648aeff1b15770d803d50df90ae862bf9b21">FLAG_CODE_HIGH_DIS_CURR_FAULT</a>, 1 );</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ab0792e2feed7794e7eac963d90c24c87">highTempFaultFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )       <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a0a1b0f71d883585a5c47382d1bc5fadf">FLAG_CODE_HIGH_TEMP_FAULT</a>, 1 );</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ac3f5a884881552a6e3828406696da14f">inBreakerOpenFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )                    <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a26f43827c14540c6a20606264598065f">FLAG_CODE_IN_BREAKER_OPEN</a>, 1 );</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ae1c1098f196b031e27ce2ffc915d5a03">outBreakerOpenFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )                   <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a7e0c000dec72360452262043080c936e">FLAG_CODE_OUT_BREAKER_OPEN</a>, 1 );</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#aed4fd1f662eddab4d07fff091ac70770">tempSenseFaultFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )                   <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648acc3d873e9945b3b22486957e646f1154">FLAG_CODE_TEMP_SENSE_FAULT</a>, 1 );</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keywordflow">for</span> ( ii = 0; ii &lt; <a class="code" href="safety_8h.html#a96b07e0a94728b0d19ad8aa3c6d83092">SAFETY_NUM_SD_REASONS</a>; ii++ )</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#afb5ef5887210a22d7493f5e3c7fc61d2">sdFlags</a>[ii] == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )                      <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( (<a class="code" href="flag_8h.html#a0979fdb1457f3b974b2e4e22922839ba">FLAG_Code</a>)(<a class="code" href="flag_8h.html#a398b7df2d64e8a7666f2fce3c10f84a1">FLAG_CODE_FIRST_SD</a> + ii), 1 );</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#ab00ba0e6c0a0fe97d0871e3fa293a26a">logFullFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )                          <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a01ae454c2d16e05aa462ce9c18dabeff">FLAG_CODE_LOG_FULL</a>, 1 );</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a4267ff9cf2eabb5d6e6285a7eee46a1b">panelMissingFlag</a>.<a class="code" href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">currentState</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )        <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a0e4ca2e664d2f791534be7858d1d919c">FLAG_CODE_PANEL_MISSING</a>, 1 );</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a>.<a class="code" href="struct_flag_states__.html#a8b914407fcb8ca5ff478c6d6338b8d14">badCfgRangeFlag</a> == <a class="code" href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a> )                      <a class="code" href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a>( <a class="code" href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a82eac092c8bd13b575315f4a73eaff71">FLAG_CODE_BAD_CFG_RANGE</a>, 1 );</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;}</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno"><a class="line" href="flag_8h.html#aadf482ca38539792c16b2d96017140c6">  631</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="flag_8c.html#aa7b99d7c513bb6fd74f0eefaf97669f3">FLAG_getFlagLen</a>()</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;{</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">return</span> ( <a class="code" href="flash_8h.html#a091746306a57cabadba8e3eb3a1ff9ec">FLASH_NUM_FLAG_BLOCKS</a> * <a class="code" href="flash_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a> );</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;}</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160; </div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aflag_8c_html_ab4684b73f26e2ba8480f340331717cad"><div class="ttname"><a href="flag_8c.html#ab4684b73f26e2ba8480f340331717cad">FLAG_BUFFER_ENTRY_SIZE</a></div><div class="ttdeci">#define FLAG_BUFFER_ENTRY_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00028">flag.c:28</a></div></div>
<div class="ttc" id="acfg_8h_html"><div class="ttname"><a href="cfg_8h.html">cfg.h</a></div></div>
<div class="ttc" id="astruct_flag_state___html_af350e56240ed41a61cdc03e027e9310f"><div class="ttname"><a href="struct_flag_state__.html#af350e56240ed41a61cdc03e027e9310f">FlagState_::currentState</a></div><div class="ttdeci">FLAG_State currentState</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00101">flag.h:101</a></div></div>
<div class="ttc" id="asafety_8h_html_a96b07e0a94728b0d19ad8aa3c6d83092"><div class="ttname"><a href="safety_8h.html#a96b07e0a94728b0d19ad8aa3c6d83092">SAFETY_NUM_SD_REASONS</a></div><div class="ttdeci">#define SAFETY_NUM_SD_REASONS</div><div class="ttdef"><b>Definition:</b> <a href="safety_8h_source.html#l00028">safety.h:28</a></div></div>
<div class="ttc" id="aflag_8h_html"><div class="ttname"><a href="flag_8h.html">flag.h</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648a04b70dc70399923a874a3ddac6757352"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a04b70dc70399923a874a3ddac6757352">FLAG_CODE_HIGH_OUT_VOLT_FAULT</a></div><div class="ttdeci">@ FLAG_CODE_HIGH_OUT_VOLT_FAULT</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00068">flag.h:68</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648ac44e90119e0c271251614ffca092fa8d"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648ac44e90119e0c271251614ffca092fa8d">FLAG_CODE_LOW_OUT_VOLT_GENSET</a></div><div class="ttdeci">@ FLAG_CODE_LOW_OUT_VOLT_GENSET</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00067">flag.h:67</a></div></div>
<div class="ttc" id="astruct_remote_cfg___html_a5da4bf78703b19e54153b798fc456531"><div class="ttname"><a href="struct_remote_cfg__.html#a5da4bf78703b19e54153b798fc456531">RemoteCfg_::inBreakerOpenFlag</a></div><div class="ttdeci">FlagCfgSimple inBreakerOpenFlag</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8h_source.html#l00142">cfg.h:142</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648aca2bc7eade338f153cf3bcbcde04e07c"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648aca2bc7eade338f153cf3bcbcde04e07c">FLAG_CODE_MIN</a></div><div class="ttdeci">@ FLAG_CODE_MIN</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00063">flag.h:63</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648a13bf85a1e5dc5321f9363170ef801d95"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a13bf85a1e5dc5321f9363170ef801d95">FLAG_CODE_HIGH_OUT_CURR_FAULT</a></div><div class="ttdeci">@ FLAG_CODE_HIGH_OUT_CURR_FAULT</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00069">flag.h:69</a></div></div>
<div class="ttc" id="atime_8h_html_acec39cfa27244239e16da42f602e2561"><div class="ttname"><a href="time_8h.html#acec39cfa27244239e16da42f602e2561">Time</a></div><div class="ttdeci">unsigned long long Time</div><div class="ttdef"><b>Definition:</b> <a href="time_8h_source.html#l00018">time.h:18</a></div></div>
<div class="ttc" id="aflag_8h_html_a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d"><div class="ttname"><a href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a178ff7a33b5ab9aa9e2a149ff144345d">FLAG_STATE_ACTIVE</a></div><div class="ttdeci">@ FLAG_STATE_ACTIVE</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00094">flag.h:94</a></div></div>
<div class="ttc" id="astruct_flag_states___html_ac3f5a884881552a6e3828406696da14f"><div class="ttname"><a href="struct_flag_states__.html#ac3f5a884881552a6e3828406696da14f">FlagStates_::inBreakerOpenFlag</a></div><div class="ttdeci">FLAG_State inBreakerOpenFlag</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00059">flag.c:59</a></div></div>
<div class="ttc" id="actrl_01_07_xD0_x9A_xD0_xBE_xD0_xBD_xD1_x84_xD0_xBB_xD0_xB8_xD0_xBA_xD1_x82_xD1_x83_xD1_x8E_xD1_x289479354af9cbc005bd3481d783ccac_html_a280e482bfd33be53e24f016826ebb5d2"><div class="ttname"><a href="ctrl_01_07_xD0_x9A_xD0_xBE_xD0_xBD_xD1_x84_xD0_xBB_xD0_xB8_xD0_xBA_xD1_x82_xD1_x83_xD1_x8E_xD1_x289479354af9cbc005bd3481d783ccac.html#a280e482bfd33be53e24f016826ebb5d2">CTRL_isTurbineLoadEnabled</a></div><div class="ttdeci">int CTRL_isTurbineLoadEnabled()</div><div class="ttdef"><b>Definition:</b> <a href="ctrl_01_07_xD0_x9A_xD0_xBE_xD0_xBD_xD1_x84_xD0_xBB_xD0_xB8_xD0_xBA_xD1_x82_xD1_x83_xD1_x8E_xD1_x289479354af9cbc005bd3481d783ccac_source.html#l00385">ctrl (Конфликтующая копия с компьютера Nsel 2020-08-03).c:385</a></div></div>
<div class="ttc" id="aflag_8c_html_a1dcc3f19f5e1a4804970820153bb8b51"><div class="ttname"><a href="flag_8c.html#a1dcc3f19f5e1a4804970820153bb8b51">FLAG_eraseStarted</a></div><div class="ttdeci">void FLAG_eraseStarted()</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00591">flag.c:591</a></div></div>
<div class="ttc" id="aflash_8c_html_aee03124ae2e7ee9cd60372805ad47eb4"><div class="ttname"><a href="flash_8c.html#aee03124ae2e7ee9cd60372805ad47eb4">FLASH_readU64</a></div><div class="ttdeci">unsigned long long FLASH_readU64(unsigned long addr)</div><div class="ttdef"><b>Definition:</b> <a href="flash_8c_source.html#l00405">flash.c:405</a></div></div>
<div class="ttc" id="astruct_remote_cfg___html_a5512fc9c32b9025c0c798f69ef34f054"><div class="ttname"><a href="struct_remote_cfg__.html#a5512fc9c32b9025c0c798f69ef34f054">RemoteCfg_::lowOutVoltGensetFlag</a></div><div class="ttdeci">FlagCfgHold lowOutVoltGensetFlag</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8h_source.html#l00137">cfg.h:137</a></div></div>
<div class="ttc" id="astruct_flag_states___html_ab00ba0e6c0a0fe97d0871e3fa293a26a"><div class="ttname"><a href="struct_flag_states__.html#ab00ba0e6c0a0fe97d0871e3fa293a26a">FlagStates_::logFullFlag</a></div><div class="ttdeci">FLAG_State logFullFlag</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00063">flag.c:63</a></div></div>
<div class="ttc" id="aflash_8h_html_a39372d0efd84eddb3e4ff46b9d106ffb"><div class="ttname"><a href="flash_8h.html#a39372d0efd84eddb3e4ff46b9d106ffb">FLASH_FLAG_ADDR</a></div><div class="ttdeci">#define FLASH_FLAG_ADDR</div><div class="ttdef"><b>Definition:</b> <a href="flash_8h_source.html#l00059">flash.h:59</a></div></div>
<div class="ttc" id="astruct_flag_cfg_trig___html_a468eebfe4347eafed43201a7121baea4"><div class="ttname"><a href="struct_flag_cfg_trig__.html#a468eebfe4347eafed43201a7121baea4">FlagCfgTrig_::triggerVal</a></div><div class="ttdeci">float triggerVal</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00038">flag.h:38</a></div></div>
<div class="ttc" id="astruct_flag_states___html_a18ded2f74b34dcaa651aa6f506a050d5"><div class="ttname"><a href="struct_flag_states__.html#a18ded2f74b34dcaa651aa6f506a050d5">FlagStates_::highOutVoltFaultFlag</a></div><div class="ttdeci">FlagState highOutVoltFaultFlag</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00055">flag.c:55</a></div></div>
<div class="ttc" id="actrl_01_07_xD0_x9A_xD0_xBE_xD0_xBD_xD1_x84_xD0_xBB_xD0_xB8_xD0_xBA_xD1_x82_xD1_x83_xD1_x8E_xD1_x289479354af9cbc005bd3481d783ccac_html_a958621ef16064ef6370f513c1767ed26"><div class="ttname"><a href="ctrl_01_07_xD0_x9A_xD0_xBE_xD0_xBD_xD1_x84_xD0_xBB_xD0_xB8_xD0_xBA_xD1_x82_xD1_x83_xD1_x8E_xD1_x289479354af9cbc005bd3481d783ccac.html#a958621ef16064ef6370f513c1767ed26">CTRL_setpointIsBulk</a></div><div class="ttdeci">int CTRL_setpointIsBulk()</div><div class="ttdef"><b>Definition:</b> <a href="ctrl_01_07_xD0_x9A_xD0_xBE_xD0_xBD_xD1_x84_xD0_xBB_xD0_xB8_xD0_xBA_xD1_x82_xD1_x83_xD1_x8E_xD1_x289479354af9cbc005bd3481d783ccac_source.html#l00926">ctrl (Конфликтующая копия с компьютера Nsel 2020-08-03).c:926</a></div></div>
<div class="ttc" id="aiqmath_8h_html_af9759b8b0d18bc1ef336969dba68a340"><div class="ttname"><a href="iqmath_8h.html#af9759b8b0d18bc1ef336969dba68a340">IQ_cnst</a></div><div class="ttdeci">#define IQ_cnst(A)</div><div class="ttdef"><b>Definition:</b> <a href="iqmath_8h_source.html#l00028">iqmath.h:28</a></div></div>
<div class="ttc" id="astruct_flag_cfg_hold___html_a3252067045c18caa89e6f40f54fecdea"><div class="ttname"><a href="struct_flag_cfg_hold__.html#a3252067045c18caa89e6f40f54fecdea">FlagCfgHold_::mode</a></div><div class="ttdeci">FLAG_Mode mode</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00046">flag.h:46</a></div></div>
<div class="ttc" id="aflag_8c_html_ac472ddbe41e156a7174f926287a43c4b"><div class="ttname"><a href="flag_8c.html#ac472ddbe41e156a7174f926287a43c4b">FLAG_timeHasUpdated</a></div><div class="ttdeci">void FLAG_timeHasUpdated(void)</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00178">flag.c:178</a></div></div>
<div class="ttc" id="astruct_flag_states___html_ae1c1098f196b031e27ce2ffc915d5a03"><div class="ttname"><a href="struct_flag_states__.html#ae1c1098f196b031e27ce2ffc915d5a03">FlagStates_::outBreakerOpenFlag</a></div><div class="ttdeci">FLAG_State outBreakerOpenFlag</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00060">flag.c:60</a></div></div>
<div class="ttc" id="astruct_flag___html"><div class="ttname"><a href="struct_flag__.html">Flag_</a></div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00030">flag.c:31</a></div></div>
<div class="ttc" id="aflash_8c_html_aa0e000ec75e59cd7b70ea970c026b7b2"><div class="ttname"><a href="flash_8c.html#aa0e000ec75e59cd7b70ea970c026b7b2">FLASH_readU16</a></div><div class="ttdeci">unsigned int FLASH_readU16(unsigned long addr)</div><div class="ttdef"><b>Definition:</b> <a href="flash_8c_source.html#l00377">flash.c:377</a></div></div>
<div class="ttc" id="aflag_8c_html_af1e384a896629d690755efb5496005b6"><div class="ttname"><a href="flag_8c.html#af1e384a896629d690755efb5496005b6">FLAG_init</a></div><div class="ttdeci">void FLAG_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00074">flag.c:74</a></div></div>
<div class="ttc" id="astruct_remote_cfg___html_a3274e4a9718776017f8b91f9f4f8e2cd"><div class="ttname"><a href="struct_remote_cfg__.html#a3274e4a9718776017f8b91f9f4f8e2cd">RemoteCfg_::sdFlags</a></div><div class="ttdeci">FlagCfgSimple sdFlags[SAFETY_NUM_SD_REASONS - 2]</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8h_source.html#l00145">cfg.h:145</a></div></div>
<div class="ttc" id="astruct_flag_state___html"><div class="ttname"><a href="struct_flag_state__.html">FlagState_</a></div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00099">flag.h:100</a></div></div>
<div class="ttc" id="acfg_8c_html_a2e3f61c31333043dcc47cad39cc273e5"><div class="ttname"><a href="cfg_8c.html#a2e3f61c31333043dcc47cad39cc273e5">CFG_configRangesOk</a></div><div class="ttdeci">int CFG_configRangesOk()</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8c_source.html#l00228">cfg.c:228</a></div></div>
<div class="ttc" id="astruct_flag_cfg_trig___html"><div class="ttname"><a href="struct_flag_cfg_trig__.html">FlagCfgTrig_</a></div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00035">flag.h:36</a></div></div>
<div class="ttc" id="aflag_8h_html_a0979fdb1457f3b974b2e4e22922839ba"><div class="ttname"><a href="flag_8h.html#a0979fdb1457f3b974b2e4e22922839ba">FLAG_Code</a></div><div class="ttdeci">enum FLAG_Code_ FLAG_Code</div></div>
<div class="ttc" id="aflag_8h_html_afb16efb705559340bbe479f742e7a4c9a1d27687d9c17100999f3cf7b178d7993"><div class="ttname"><a href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9a1d27687d9c17100999f3cf7b178d7993">FLAG_LOG_AND_RELAY</a></div><div class="ttdeci">@ FLAG_LOG_AND_RELAY</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00026">flag.h:25</a></div></div>
<div class="ttc" id="aflash_8h_html_abffc855754265235469a8839681f0047"><div class="ttname"><a href="flash_8h.html#abffc855754265235469a8839681f0047">ERASE_MASK1</a></div><div class="ttdeci">#define ERASE_MASK1</div><div class="ttdef"><b>Definition:</b> <a href="flash_8h_source.html#l00020">flash.h:20</a></div></div>
<div class="ttc" id="astruct_flag___html_a4f5243d15d7712c07fd3f94753f64a79"><div class="ttname"><a href="struct_flag__.html#a4f5243d15d7712c07fd3f94753f64a79">Flag_::flagBitfieldRelay</a></div><div class="ttdeci">FlagBitfield flagBitfieldRelay</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00043">flag.c:43</a></div></div>
<div class="ttc" id="astruct_remote_cfg___html_a6913e09bcce3ffd4e29b3d4f0eb5b0b4"><div class="ttname"><a href="struct_remote_cfg__.html#a6913e09bcce3ffd4e29b3d4f0eb5b0b4">RemoteCfg_::highDisCurrFaultFlag</a></div><div class="ttdeci">FlagCfgTrig highDisCurrFaultFlag</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8h_source.html#l00140">cfg.h:140</a></div></div>
<div class="ttc" id="astruct_meas___html_a7ef4d6038742dcb807bb268d7f36c290"><div class="ttname"><a href="struct_meas__.html#a7ef4d6038742dcb807bb268d7f36c290">Meas_::outVolt</a></div><div class="ttdeci">AdcCommsMeas outVolt</div><div class="ttdef"><b>Definition:</b> <a href="meas_8h_source.html#l00113">meas.h:113</a></div></div>
<div class="ttc" id="astruct_flag_states___html_ab0792e2feed7794e7eac963d90c24c87"><div class="ttname"><a href="struct_flag_states__.html#ab0792e2feed7794e7eac963d90c24c87">FlagStates_::highTempFaultFlag</a></div><div class="ttdeci">FlagState highTempFaultFlag</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00058">flag.c:58</a></div></div>
<div class="ttc" id="astruct_meas___html_ab0d517158af88ba0ca0d527d807b9ec7"><div class="ttname"><a href="struct_meas__.html#ab0d517158af88ba0ca0d527d807b9ec7">Meas_::batTempr</a></div><div class="ttdeci">CommsMeas batTempr</div><div class="ttdef"><b>Definition:</b> <a href="meas_8h_source.html#l00128">meas.h:128</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648a2b50f4d54116de8c8f40317a5d2d217a"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a2b50f4d54116de8c8f40317a5d2d217a">FLAG_CODE_LOW_OUT_VOLT_FAULT</a></div><div class="ttdeci">@ FLAG_CODE_LOW_OUT_VOLT_FAULT</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00066">flag.h:66</a></div></div>
<div class="ttc" id="atime_8c_html_a1ca2585daaf0d210adde4129c7454bee"><div class="ttname"><a href="time_8c.html#a1ca2585daaf0d210adde4129c7454bee">TIME_get</a></div><div class="ttdeci">Time TIME_get()</div><div class="ttdef"><b>Definition:</b> <a href="time_8c_source.html#l00106">time.c:106</a></div></div>
<div class="ttc" id="asafety_8c_html_ab6bd84b2121177f96e2e38373ff80e80"><div class="ttname"><a href="safety_8c.html#ab6bd84b2121177f96e2e38373ff80e80">SAFETY_isShutdown</a></div><div class="ttdeci">int SAFETY_isShutdown(int reason)</div><div class="ttdef"><b>Definition:</b> <a href="safety_8c_source.html#l00302">safety.c:302</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648a7e0c000dec72360452262043080c936e"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a7e0c000dec72360452262043080c936e">FLAG_CODE_OUT_BREAKER_OPEN</a></div><div class="ttdeci">@ FLAG_CODE_OUT_BREAKER_OPEN</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00073">flag.h:73</a></div></div>
<div class="ttc" id="ameas_8h_html_a71e8c934207a96eca7d23a34ddcb3f90"><div class="ttname"><a href="meas_8h.html#a71e8c934207a96eca7d23a34ddcb3f90">MEAS_OUTCURR_BASE</a></div><div class="ttdeci">#define MEAS_OUTCURR_BASE</div><div class="ttdef"><b>Definition:</b> <a href="meas_8h_source.html#l00051">meas.h:51</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648a0a1b0f71d883585a5c47382d1bc5fadf"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a0a1b0f71d883585a5c47382d1bc5fadf">FLAG_CODE_HIGH_TEMP_FAULT</a></div><div class="ttdeci">@ FLAG_CODE_HIGH_TEMP_FAULT</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00071">flag.h:71</a></div></div>
<div class="ttc" id="aflag_8c_html_ad8dd4c09516a95fabbf683abf17e4df3"><div class="ttname"><a href="flag_8c.html#ad8dd4c09516a95fabbf683abf17e4df3">FLAG_checkAllFlags</a></div><div class="ttdeci">void FLAG_checkAllFlags(void)</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00213">flag.c:213</a></div></div>
<div class="ttc" id="astruct_remote_cfg___html_ab201fafc90bb6192b3316bb80e5d02d2"><div class="ttname"><a href="struct_remote_cfg__.html#ab201fafc90bb6192b3316bb80e5d02d2">RemoteCfg_::highOutVoltFaultFlag</a></div><div class="ttdeci">FlagCfgTrig highOutVoltFaultFlag</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8h_source.html#l00138">cfg.h:138</a></div></div>
<div class="ttc" id="astruct_flag___html_aec193b6d82c6e773eaf8a78881be5ef6"><div class="ttname"><a href="struct_flag__.html#aec193b6d82c6e773eaf8a78881be5ef6">Flag_::activeSectorNum</a></div><div class="ttdeci">unsigned int activeSectorNum</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00041">flag.c:41</a></div></div>
<div class="ttc" id="aflag_8c_html_a19d50117242c662bea811c1835733564"><div class="ttname"><a href="flag_8c.html#a19d50117242c662bea811c1835733564">FlagStates</a></div><div class="ttdeci">struct FlagStates_ FlagStates</div></div>
<div class="ttc" id="ameas_8h_html_a307b7c665a816dd0d5439f8bf2702fda"><div class="ttname"><a href="meas_8h.html#a307b7c665a816dd0d5439f8bf2702fda">MEAS_OUTVOLT_BASE</a></div><div class="ttdeci">#define MEAS_OUTVOLT_BASE</div><div class="ttdef"><b>Definition:</b> <a href="meas_8h_source.html#l00049">meas.h:49</a></div></div>
<div class="ttc" id="astruct_flag___html_afa7821f891fe333d80201fa3a1a6cdab"><div class="ttname"><a href="struct_flag__.html#afa7821f891fe333d80201fa3a1a6cdab">Flag_::currentAddr</a></div><div class="ttdeci">unsigned long currentAddr</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00039">flag.c:39</a></div></div>
<div class="ttc" id="aflag_8c_html_aa1dbaf2631cf74d8be01d658469703bd"><div class="ttname"><a href="flag_8c.html#aa1dbaf2631cf74d8be01d658469703bd">FLAG_logFlag</a></div><div class="ttdeci">void FLAG_logFlag(FLAG_Code code, int isActive)</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00518">flag.c:518</a></div></div>
<div class="ttc" id="astruct_flag___html_a15dbb16f45f42db1bb53dfedb2024681"><div class="ttname"><a href="struct_flag__.html#a15dbb16f45f42db1bb53dfedb2024681">Flag_::isReadyToCheck</a></div><div class="ttdeci">int isReadyToCheck</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00044">flag.c:44</a></div></div>
<div class="ttc" id="astruct_remote_cfg___html_a88f969138b242c0d238fa32df466ed14"><div class="ttname"><a href="struct_remote_cfg__.html#a88f969138b242c0d238fa32df466ed14">RemoteCfg_::outBreakerOpenFlag</a></div><div class="ttdeci">FlagCfgSimple outBreakerOpenFlag</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8h_source.html#l00143">cfg.h:143</a></div></div>
<div class="ttc" id="astruct_flag_states___html_aa0d8d6e6ea659fe2a9a9bd5bdec77bce"><div class="ttname"><a href="struct_flag_states__.html#aa0d8d6e6ea659fe2a9a9bd5bdec77bce">FlagStates_::lowOutVoltFaultFlag</a></div><div class="ttdeci">FlagState lowOutVoltFaultFlag</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00053">flag.c:53</a></div></div>
<div class="ttc" id="astruct_remote_cfg___html_a4992dc91cd9afd06cb5bad9b62970eb5"><div class="ttname"><a href="struct_remote_cfg__.html#a4992dc91cd9afd06cb5bad9b62970eb5">RemoteCfg_::highOutCurrFaultFlag</a></div><div class="ttdeci">FlagCfgTrig highOutCurrFaultFlag</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8h_source.html#l00139">cfg.h:139</a></div></div>
<div class="ttc" id="aflag_8c_html_a4802475e4bd18405f54f989159673921"><div class="ttname"><a href="flag_8c.html#a4802475e4bd18405f54f989159673921">FLAG_getStatus</a></div><div class="ttdeci">unsigned char FLAG_getStatus(void)</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00187">flag.c:187</a></div></div>
<div class="ttc" id="aio_8h_html_a767218971fe7fe6f1da525a5ff100743"><div class="ttname"><a href="io_8h.html#a767218971fe7fe6f1da525a5ff100743">IO_INBREAKER_OPEN</a></div><div class="ttdeci">#define IO_INBREAKER_OPEN</div><div class="ttdef"><b>Definition:</b> <a href="io_8h_source.html#l00134">io.h:134</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648a0e4ca2e664d2f791534be7858d1d919c"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a0e4ca2e664d2f791534be7858d1d919c">FLAG_CODE_PANEL_MISSING</a></div><div class="ttdeci">@ FLAG_CODE_PANEL_MISSING</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00083">flag.h:83</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648ab5ff19750eaf96cc6351e351e7760ebd"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648ab5ff19750eaf96cc6351e351e7760ebd">FLAG_CODE_MAX</a></div><div class="ttdeci">@ FLAG_CODE_MAX</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00086">flag.h:85</a></div></div>
<div class="ttc" id="astruct_flag_cfg_sched___html_a0925fa2528b51e4b7b4c0de18828c1bd"><div class="ttname"><a href="struct_flag_cfg_sched__.html#a0925fa2528b51e4b7b4c0de18828c1bd">FlagCfgSched_::checkTime</a></div><div class="ttdeci">TimeShort checkTime</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00058">flag.h:58</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648a26f43827c14540c6a20606264598065f"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a26f43827c14540c6a20606264598065f">FLAG_CODE_IN_BREAKER_OPEN</a></div><div class="ttdeci">@ FLAG_CODE_IN_BREAKER_OPEN</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00072">flag.h:72</a></div></div>
<div class="ttc" id="astruct_flag_cfg_sched___html"><div class="ttname"><a href="struct_flag_cfg_sched__.html">FlagCfgSched_</a></div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00054">flag.h:55</a></div></div>
<div class="ttc" id="atime_8c_html_a24e7aeeab93196b66c6a830aafdd3433"><div class="ttname"><a href="time_8c.html#a24e7aeeab93196b66c6a830aafdd3433">TIME_isToday</a></div><div class="ttdeci">int TIME_isToday(Time tm)</div><div class="ttdef"><b>Definition:</b> <a href="time_8c_source.html#l00121">time.c:121</a></div></div>
<div class="ttc" id="astruct_remote_cfg___html_a10b606a83af726b5f567de7189a19b3f"><div class="ttname"><a href="struct_remote_cfg__.html#a10b606a83af726b5f567de7189a19b3f">RemoteCfg_::systemInitFlag</a></div><div class="ttdeci">FlagCfgSimple systemInitFlag</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8h_source.html#l00134">cfg.h:134</a></div></div>
<div class="ttc" id="astruct_flag_cfg_hold___html_a3ed69542270318482052373ac701f154"><div class="ttname"><a href="struct_flag_cfg_hold__.html#a3ed69542270318482052373ac701f154">FlagCfgHold_::hystTime</a></div><div class="ttdeci">TimeShort hystTime</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00049">flag.h:49</a></div></div>
<div class="ttc" id="atime_8h_html"><div class="ttname"><a href="time_8h.html">time.h</a></div></div>
<div class="ttc" id="aflag_8h_html_a9206b3246d892fa62e8cd3bc727d3897"><div class="ttname"><a href="flag_8h.html#a9206b3246d892fa62e8cd3bc727d3897">FlagBitfield</a></div><div class="ttdeci">unsigned long long FlagBitfield</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00019">flag.h:19</a></div></div>
<div class="ttc" id="aflash_8c_html_a600505051d0229fa1cc65c223bdb91ec"><div class="ttname"><a href="flash_8c.html#a600505051d0229fa1cc65c223bdb91ec">FLASH_eraseBlockBusy</a></div><div class="ttdeci">int FLASH_eraseBlockBusy(unsigned long blockAddr)</div><div class="ttdef"><b>Definition:</b> <a href="flash_8c_source.html#l00073">flash.c:73</a></div></div>
<div class="ttc" id="astruct_flag_state___html_ab083bb3b43160522ceb0ee25c6fdf3b5"><div class="ttname"><a href="struct_flag_state__.html#ab083bb3b43160522ceb0ee25c6fdf3b5">FlagState_::currentVal</a></div><div class="ttdeci">Iq currentVal</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00102">flag.h:102</a></div></div>
<div class="ttc" id="atime_8h_html_aa8186792daee31af5d3169ca1e1d7fdd"><div class="ttname"><a href="time_8h.html#aa8186792daee31af5d3169ca1e1d7fdd">TimeShort</a></div><div class="ttdeci">unsigned long TimeShort</div><div class="ttdef"><b>Definition:</b> <a href="time_8h_source.html#l00021">time.h:21</a></div></div>
<div class="ttc" id="astruct_remote_cfg___html_a635a3c5f437f8c3e65c56f90de992fd8"><div class="ttname"><a href="struct_remote_cfg__.html#a635a3c5f437f8c3e65c56f90de992fd8">RemoteCfg_::lowOutVoltFaultFlag</a></div><div class="ttdeci">FlagCfgTrig lowOutVoltFaultFlag</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8h_source.html#l00136">cfg.h:136</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648a636e271db8fc768aaed72f96ffe8cb94"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a636e271db8fc768aaed72f96ffe8cb94">FLAG_CODE_LOW_OUT_VOLT_WARN</a></div><div class="ttdeci">@ FLAG_CODE_LOW_OUT_VOLT_WARN</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00065">flag.h:65</a></div></div>
<div class="ttc" id="astruct_meas___html_a3df2b34c41decd2b137e1b1408a9a054"><div class="ttname"><a href="struct_meas__.html#a3df2b34c41decd2b137e1b1408a9a054">Meas_::outCurr</a></div><div class="ttdeci">AdcCommsMeas outCurr</div><div class="ttdef"><b>Definition:</b> <a href="meas_8h_source.html#l00114">meas.h:114</a></div></div>
<div class="ttc" id="astruct_flag_cfg_simple___html_a3252067045c18caa89e6f40f54fecdea"><div class="ttname"><a href="struct_flag_cfg_simple__.html#a3252067045c18caa89e6f40f54fecdea">FlagCfgSimple_::mode</a></div><div class="ttdeci">FLAG_Mode mode</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00031">flag.h:31</a></div></div>
<div class="ttc" id="atime_8c_html_ae642892d9072569bdf04904a32ad58a4"><div class="ttname"><a href="time_8c.html#ae642892d9072569bdf04904a32ad58a4">TIME_getSinceToday</a></div><div class="ttdeci">Time TIME_getSinceToday()</div><div class="ttdef"><b>Definition:</b> <a href="time_8c_source.html#l00116">time.c:116</a></div></div>
<div class="ttc" id="astruct_flag_cfg_trig___html_a69ebc1b8da96e16f0bb25c7710c6aeaf"><div class="ttname"><a href="struct_flag_cfg_trig__.html#a69ebc1b8da96e16f0bb25c7710c6aeaf">FlagCfgTrig_::resetVal</a></div><div class="ttdeci">float resetVal</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00039">flag.h:39</a></div></div>
<div class="ttc" id="acfg_8c_html_ab3b54c0bea7e0ef8d39e0f5016a4731a"><div class="ttname"><a href="cfg_8c.html#ab3b54c0bea7e0ef8d39e0f5016a4731a">CFG_remoteCfg</a></div><div class="ttdeci">RemoteCfg CFG_remoteCfg</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8c_source.html#l00061">cfg.c:61</a></div></div>
<div class="ttc" id="aflag_8c_html_ab422bfe8ad33c4503144a508451cbb84"><div class="ttname"><a href="flag_8c.html#ab422bfe8ad33c4503144a508451cbb84">FLAG_getFlagBitfield</a></div><div class="ttdeci">FlagBitfield FLAG_getFlagBitfield(void)</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00192">flag.c:192</a></div></div>
<div class="ttc" id="astruct_flag_states___html_a20b5d70400ba9c9585480d2c82200f31"><div class="ttname"><a href="struct_flag_states__.html#a20b5d70400ba9c9585480d2c82200f31">FlagStates_::highDisCurrFaultFlag</a></div><div class="ttdeci">FlagState highDisCurrFaultFlag</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00057">flag.c:57</a></div></div>
<div class="ttc" id="aflag_8c_html_ad7e060124da21f3ed10800be4f36a08b"><div class="ttname"><a href="flag_8c.html#ad7e060124da21f3ed10800be4f36a08b">FLAG_checkFlagHold</a></div><div class="ttdeci">int FLAG_checkFlagHold(FlagState *pState, FlagCfgHold *pCfg, FLAG_Code code)</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00425">flag.c:425</a></div></div>
<div class="ttc" id="aflag_8c_html_a18693e81ae788340618a0f298f20c8ff"><div class="ttname"><a href="flag_8c.html#a18693e81ae788340618a0f298f20c8ff">FLAG_checkAndWrite</a></div><div class="ttdeci">void FLAG_checkAndWrite()</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00535">flag.c:535</a></div></div>
<div class="ttc" id="aflag_8c_html_ae3243831a40dff0d13e96ce0bbd18f18"><div class="ttname"><a href="flag_8c.html#ae3243831a40dff0d13e96ce0bbd18f18">flag</a></div><div class="ttdeci">Flag flag</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00068">flag.c:68</a></div></div>
<div class="ttc" id="astruct_remote_cfg___html_aae57210458eeff68e3078c93f8f9cdc6"><div class="ttname"><a href="struct_remote_cfg__.html#aae57210458eeff68e3078c93f8f9cdc6">RemoteCfg_::highTempFaultFlag</a></div><div class="ttdeci">FlagCfgTrig highTempFaultFlag</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8h_source.html#l00141">cfg.h:141</a></div></div>
<div class="ttc" id="actrl_8h_html"><div class="ttname"><a href="ctrl_8h.html">ctrl.h</a></div></div>
<div class="ttc" id="aflag_8c_html_ac80eec7bb9e97cce28841faf84953d92"><div class="ttname"><a href="flag_8c.html#ac80eec7bb9e97cce28841faf84953d92">flagStates</a></div><div class="ttdeci">FlagStates flagStates</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00070">flag.c:70</a></div></div>
<div class="ttc" id="aio_8c_html_a772113c6d38522f0c29c7eef1641ba23"><div class="ttname"><a href="io_8c.html#a772113c6d38522f0c29c7eef1641ba23">IO_setRelay</a></div><div class="ttdeci">void IO_setRelay(unsigned long long bitfield)</div><div class="ttdoc">just on/off relay</div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l00320">io.c:320</a></div></div>
<div class="ttc" id="aflag_8h_html_a398b7df2d64e8a7666f2fce3c10f84a1"><div class="ttname"><a href="flag_8h.html#a398b7df2d64e8a7666f2fce3c10f84a1">FLAG_CODE_FIRST_SD</a></div><div class="ttdeci">#define FLAG_CODE_FIRST_SD</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00089">flag.h:89</a></div></div>
<div class="ttc" id="astruct_flag_cfg_hold___html_a69ebc1b8da96e16f0bb25c7710c6aeaf"><div class="ttname"><a href="struct_flag_cfg_hold__.html#a69ebc1b8da96e16f0bb25c7710c6aeaf">FlagCfgHold_::resetVal</a></div><div class="ttdeci">float resetVal</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00048">flag.h:48</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648aeff1b15770d803d50df90ae862bf9b21"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648aeff1b15770d803d50df90ae862bf9b21">FLAG_CODE_HIGH_DIS_CURR_FAULT</a></div><div class="ttdeci">@ FLAG_CODE_HIGH_DIS_CURR_FAULT</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00070">flag.h:70</a></div></div>
<div class="ttc" id="astruct_flag___html_a4b2c4b147d76204f660bfb91b455d277"><div class="ttname"><a href="struct_flag__.html#a4b2c4b147d76204f660bfb91b455d277">Flag_::buffer</a></div><div class="ttdeci">unsigned char buffer[FLAG_CODE_NUM *FLAG_BUFFER_ENTRY_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00038">flag.c:38</a></div></div>
<div class="ttc" id="aio_8h_html_ac8195188d2653a31fdbee4a0da93ac37"><div class="ttname"><a href="io_8h.html#ac8195188d2653a31fdbee4a0da93ac37">IO_OUTBREAKER_OPEN</a></div><div class="ttdeci">#define IO_OUTBREAKER_OPEN</div><div class="ttdef"><b>Definition:</b> <a href="io_8h_source.html#l00135">io.h:135</a></div></div>
<div class="ttc" id="asafety_8h_html"><div class="ttname"><a href="safety_8h.html">safety.h</a></div></div>
<div class="ttc" id="astruct_flag_states___html_a8b914407fcb8ca5ff478c6d6338b8d14"><div class="ttname"><a href="struct_flag_states__.html#a8b914407fcb8ca5ff478c6d6338b8d14">FlagStates_::badCfgRangeFlag</a></div><div class="ttdeci">FLAG_State badCfgRangeFlag</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00065">flag.c:65</a></div></div>
<div class="ttc" id="astruct_flag_cfg_trig___html_a3252067045c18caa89e6f40f54fecdea"><div class="ttname"><a href="struct_flag_cfg_trig__.html#a3252067045c18caa89e6f40f54fecdea">FlagCfgTrig_::mode</a></div><div class="ttdeci">FLAG_Mode mode</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00037">flag.h:37</a></div></div>
<div class="ttc" id="ameas_8c_html_a9e5c86e6e0a3f5c1240163c45c08cb74"><div class="ttname"><a href="meas_8c.html#a9e5c86e6e0a3f5c1240163c45c08cb74">meas</a></div><div class="ttdeci">volatile Meas meas</div><div class="ttdef"><b>Definition:</b> <a href="meas_8c_source.html#l00028">meas.c:28</a></div></div>
<div class="ttc" id="aflag_8c_html_aa7b99d7c513bb6fd74f0eefaf97669f3"><div class="ttname"><a href="flag_8c.html#aa7b99d7c513bb6fd74f0eefaf97669f3">FLAG_getFlagLen</a></div><div class="ttdeci">unsigned long FLAG_getFlagLen()</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00631">flag.c:631</a></div></div>
<div class="ttc" id="asafety_8h_html_a74f6c2fcac81272db35c8493ed09efce"><div class="ttname"><a href="safety_8h.html#a74f6c2fcac81272db35c8493ed09efce">SAFETY_SD_BIT_OUTVOLT</a></div><div class="ttdeci">#define SAFETY_SD_BIT_OUTVOLT</div><div class="ttdef"><b>Definition:</b> <a href="safety_8h_source.html#l00023">safety.h:23</a></div></div>
<div class="ttc" id="astruct_flag_state___html_aabb3c946894a950b13245702ed6bb265"><div class="ttname"><a href="struct_flag_state__.html#aabb3c946894a950b13245702ed6bb265">FlagState_::hystStartTime</a></div><div class="ttdeci">Time hystStartTime</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00105">flag.h:105</a></div></div>
<div class="ttc" id="aflag_8c_html_ac2e359066b06ade1b369f111027160a8"><div class="ttname"><a href="flag_8c.html#ac2e359066b06ade1b369f111027160a8">FLAG_LOG_ENTRY_SIZE</a></div><div class="ttdeci">#define FLAG_LOG_ENTRY_SIZE</div><div class="ttdoc">#include &lt;msp430x24x.h&gt;</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00027">flag.c:27</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648a01ae454c2d16e05aa462ce9c18dabeff"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a01ae454c2d16e05aa462ce9c18dabeff">FLAG_CODE_LOG_FULL</a></div><div class="ttdeci">@ FLAG_CODE_LOG_FULL</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00082">flag.h:82</a></div></div>
<div class="ttc" id="astruct_flag_states___html_ac24ffde5331403b10c06362c048c4e2b"><div class="ttname"><a href="struct_flag_states__.html#ac24ffde5331403b10c06362c048c4e2b">FlagStates_::highOutCurrFaultFlag</a></div><div class="ttdeci">FlagState highOutCurrFaultFlag</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00056">flag.c:56</a></div></div>
<div class="ttc" id="astruct_flag_states___html_acce21b8d33eea2630321e589627d692c"><div class="ttname"><a href="struct_flag_states__.html#acce21b8d33eea2630321e589627d692c">FlagStates_::lowOutVoltGensetFlag</a></div><div class="ttdeci">FlagState lowOutVoltGensetFlag</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00054">flag.c:54</a></div></div>
<div class="ttc" id="aflag_8h_html_afb16efb705559340bbe479f742e7a4c9acb0408b9c4c36bddfdfeb1a95be62e80"><div class="ttname"><a href="flag_8h.html#afb16efb705559340bbe479f742e7a4c9acb0408b9c4c36bddfdfeb1a95be62e80">FLAG_DISABLED</a></div><div class="ttdeci">@ FLAG_DISABLED</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00023">flag.h:23</a></div></div>
<div class="ttc" id="astruct_flag_states___html_aed4fd1f662eddab4d07fff091ac70770"><div class="ttname"><a href="struct_flag_states__.html#aed4fd1f662eddab4d07fff091ac70770">FlagStates_::tempSenseFaultFlag</a></div><div class="ttdeci">FLAG_State tempSenseFaultFlag</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00061">flag.c:61</a></div></div>
<div class="ttc" id="aflash_8c_html_a824adb1e4989c662e38cb5238726330e"><div class="ttname"><a href="flash_8c.html#a824adb1e4989c662e38cb5238726330e">FLASH_writeStr</a></div><div class="ttdeci">int FLASH_writeStr(unsigned char *pSrc, unsigned long len)</div><div class="ttdef"><b>Definition:</b> <a href="flash_8c_source.html#l00174">flash.c:174</a></div></div>
<div class="ttc" id="ameas_8h_html"><div class="ttname"><a href="meas_8h.html">meas.h</a></div></div>
<div class="ttc" id="aflash_8h_html_a091746306a57cabadba8e3eb3a1ff9ec"><div class="ttname"><a href="flash_8h.html#a091746306a57cabadba8e3eb3a1ff9ec">FLASH_NUM_FLAG_BLOCKS</a></div><div class="ttdeci">#define FLASH_NUM_FLAG_BLOCKS</div><div class="ttdef"><b>Definition:</b> <a href="flash_8h_source.html#l00045">flash.h:45</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648a82eac092c8bd13b575315f4a73eaff71"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648a82eac092c8bd13b575315f4a73eaff71">FLAG_CODE_BAD_CFG_RANGE</a></div><div class="ttdeci">@ FLAG_CODE_BAD_CFG_RANGE</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00084">flag.h:84</a></div></div>
<div class="ttc" id="astruct_meas___html_a4b9437ab56a510bc0d01554010d845a9"><div class="ttname"><a href="struct_meas__.html#a4b9437ab56a510bc0d01554010d845a9">Meas_::batTemprFault</a></div><div class="ttdeci">int batTemprFault</div><div class="ttdef"><b>Definition:</b> <a href="meas_8h_source.html#l00129">meas.h:129</a></div></div>
<div class="ttc" id="astruct_flag_state___html_a62653938310900775e13c36d2744a64d"><div class="ttname"><a href="struct_flag_state__.html#a62653938310900775e13c36d2744a64d">FlagState_::triggerVal</a></div><div class="ttdeci">Iq triggerVal</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00103">flag.h:103</a></div></div>
<div class="ttc" id="astruct_flag___html_aa5af8f3ad629ed487f3399607f9b149a"><div class="ttname"><a href="struct_flag__.html#aa5af8f3ad629ed487f3399607f9b149a">Flag_::activeSectorAddr</a></div><div class="ttdeci">unsigned long activeSectorAddr</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00040">flag.c:40</a></div></div>
<div class="ttc" id="aflag_8h_html_a06fc87d81c62e9abb8790b6e5713c55ba5a403bb281c1b231f0af904ce6e57c09"><div class="ttname"><a href="flag_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba5a403bb281c1b231f0af904ce6e57c09">FLAG_CODE_NUM</a></div><div class="ttdeci">@ FLAG_CODE_NUM</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00087">flag.h:87</a></div></div>
<div class="ttc" id="aflag_8c_html_a05e46a08ca0eb3286e50c210b58f779e"><div class="ttname"><a href="flag_8c.html#a05e46a08ca0eb3286e50c210b58f779e">FLAG_checkFlagTrig</a></div><div class="ttdeci">int FLAG_checkFlagTrig(FlagState *pState, FlagCfgTrig *pCfg, FLAG_Code code)</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00378">flag.c:378</a></div></div>
<div class="ttc" id="astruct_flag___html_a8c10b0dec2a886dd795e22c0109fa34f"><div class="ttname"><a href="struct_flag__.html#a8c10b0dec2a886dd795e22c0109fa34f">Flag_::flagBitfield</a></div><div class="ttdeci">FlagBitfield flagBitfield</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00042">flag.c:42</a></div></div>
<div class="ttc" id="aflag_8h_html_a2e99616a4cdcb67cd518be23c5bbdb30a224fdfbe9f3e65245f3cc8ed770a7077"><div class="ttname"><a href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a224fdfbe9f3e65245f3cc8ed770a7077">FLAG_STATE_ACTIVE_HYST</a></div><div class="ttdeci">@ FLAG_STATE_ACTIVE_HYST</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00097">flag.h:96</a></div></div>
<div class="ttc" id="aflash_8h_html_ad51ded0bbd705f02f73fc60c0b721ced"><div class="ttname"><a href="flash_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a></div><div class="ttdeci">#define BLOCK_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="flash_8h_source.html#l00026">flash.h:26</a></div></div>
<div class="ttc" id="aflag_8h_html_a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f"><div class="ttname"><a href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a1d252f42799b35988e1736e0a039af1f">FLAG_STATE_INACTIVE</a></div><div class="ttdeci">@ FLAG_STATE_INACTIVE</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00093">flag.h:93</a></div></div>
<div class="ttc" id="aio_8h_html"><div class="ttname"><a href="io_8h.html">io.h</a></div><div class="ttdoc">Discrete I / O control.</div></div>
<div class="ttc" id="astruct_flag_cfg_hold___html_a468eebfe4347eafed43201a7121baea4"><div class="ttname"><a href="struct_flag_cfg_hold__.html#a468eebfe4347eafed43201a7121baea4">FlagCfgHold_::triggerVal</a></div><div class="ttdeci">float triggerVal</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00047">flag.h:47</a></div></div>
<div class="ttc" id="aflag_8c_html_a92cfe34941d4c588f3d8d4b58017a3b6"><div class="ttname"><a href="flag_8c.html#a92cfe34941d4c588f3d8d4b58017a3b6">FLAG_eraseDoneCallback</a></div><div class="ttdeci">void FLAG_eraseDoneCallback(int retVal)</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00596">flag.c:596</a></div></div>
<div class="ttc" id="aflag_8c_html_ad5e62314a7030826015c7aead4d4046a"><div class="ttname"><a href="flag_8c.html#ad5e62314a7030826015c7aead4d4046a">FLAG_swapActiveSector</a></div><div class="ttdeci">int FLAG_swapActiveSector(void)</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00197">flag.c:197</a></div></div>
<div class="ttc" id="astruct_flag_states___html"><div class="ttname"><a href="struct_flag_states__.html">FlagStates_</a></div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00049">flag.c:50</a></div></div>
<div class="ttc" id="astruct_flag___html_a6a953a622098aae9a49b66396fdd2f03"><div class="ttname"><a href="struct_flag__.html#a6a953a622098aae9a49b66396fdd2f03">Flag_::isErasing</a></div><div class="ttdeci">int isErasing</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00046">flag.c:46</a></div></div>
<div class="ttc" id="astruct_flag_states___html_a04a1a52a8a5a4b27257f3b3f12a8a2b8"><div class="ttname"><a href="struct_flag_states__.html#a04a1a52a8a5a4b27257f3b3f12a8a2b8">FlagStates_::lowOutVoltWarnFlag</a></div><div class="ttdeci">FlagState lowOutVoltWarnFlag</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00052">flag.c:52</a></div></div>
<div class="ttc" id="aflag_8h_html_a2e99616a4cdcb67cd518be23c5bbdb30a31b24f54094b6234ab30cf9ff2ccbfb5"><div class="ttname"><a href="flag_8h.html#a2e99616a4cdcb67cd518be23c5bbdb30a31b24f54094b6234ab30cf9ff2ccbfb5">FLAG_STATE_INACTIVE_HYST</a></div><div class="ttdeci">@ FLAG_STATE_INACTIVE_HYST</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00095">flag.h:95</a></div></div>
<div class="ttc" id="astruct_flag_state___html_aa3093fb8044ba88b4fc2920d8f9c3892"><div class="ttname"><a href="struct_flag_state__.html#aa3093fb8044ba88b4fc2920d8f9c3892">FlagState_::resetVal</a></div><div class="ttdeci">Iq resetVal</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00104">flag.h:104</a></div></div>
<div class="ttc" id="astruct_flag___html_aa310c76c769b2a9c3473d8af807d445f"><div class="ttname"><a href="struct_flag__.html#aa310c76c769b2a9c3473d8af807d445f">Flag_::isReadyToWrite</a></div><div class="ttdeci">int isReadyToWrite</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00045">flag.c:45</a></div></div>
<div class="ttc" id="astruct_flag_cfg_trig___html_a3ed69542270318482052373ac701f154"><div class="ttname"><a href="struct_flag_cfg_trig__.html#a3ed69542270318482052373ac701f154">FlagCfgTrig_::hystTime</a></div><div class="ttdeci">TimeShort hystTime</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00040">flag.h:40</a></div></div>
<div class="ttc" id="aflag_8c_html_a4dd8d8002de067bab2d7b3e567d890e4"><div class="ttname"><a href="flag_8c.html#a4dd8d8002de067bab2d7b3e567d890e4">FLAG_checkFlagSched</a></div><div class="ttdeci">int FLAG_checkFlagSched(FlagState *pState, FlagCfgSched *pCfg, FLAG_Code code)</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00475">flag.c:475</a></div></div>
<div class="ttc" id="aflag_8h_html_a5175b1cbec917c270b76a468b7710d58"><div class="ttname"><a href="flag_8h.html#a5175b1cbec917c270b76a468b7710d58">FLAG_State</a></div><div class="ttdeci">enum FLAG_State_ FLAG_State</div></div>
<div class="ttc" id="astruct_comms_meas___html_acde755fe40f15fdf3280ab4bf8e68f70"><div class="ttname"><a href="struct_comms_meas__.html#acde755fe40f15fdf3280ab4bf8e68f70">CommsMeas_::val</a></div><div class="ttdeci">Iq val</div><div class="ttdef"><b>Definition:</b> <a href="meas_8h_source.html#l00080">meas.h:80</a></div></div>
<div class="ttc" id="astruct_remote_cfg___html_a19b050a5c87369298a57cda5fee64440"><div class="ttname"><a href="struct_remote_cfg__.html#a19b050a5c87369298a57cda5fee64440">RemoteCfg_::tempSenseFaultFlag</a></div><div class="ttdeci">FlagCfgSimple tempSenseFaultFlag</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8h_source.html#l00144">cfg.h:144</a></div></div>
<div class="ttc" id="astruct_adc_comms_meas___html_acde755fe40f15fdf3280ab4bf8e68f70"><div class="ttname"><a href="struct_adc_comms_meas__.html#acde755fe40f15fdf3280ab4bf8e68f70">AdcCommsMeas_::val</a></div><div class="ttdeci">Iq val</div><div class="ttdef"><b>Definition:</b> <a href="meas_8h_source.html#l00098">meas.h:98</a></div></div>
<div class="ttc" id="aflash_8c_html_ad22a0c7cf5ff4b7669394986fd889df7"><div class="ttname"><a href="flash_8c.html#ad22a0c7cf5ff4b7669394986fd889df7">FLASH_startWrite</a></div><div class="ttdeci">int FLASH_startWrite(unsigned long dstAddr, unsigned long len)</div><div class="ttdef"><b>Definition:</b> <a href="flash_8c_source.html#l00158">flash.c:158</a></div></div>
<div class="ttc" id="astruct_remote_cfg___html_a29125dc931871c4e28dd8fe7eeb86286"><div class="ttname"><a href="struct_remote_cfg__.html#a29125dc931871c4e28dd8fe7eeb86286">RemoteCfg_::logFullFlag</a></div><div class="ttdeci">FlagCfgSimple logFullFlag</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8h_source.html#l00146">cfg.h:146</a></div></div>
<div class="ttc" id="astruct_remote_cfg___html_a855613aba85834bc8c2b463fbc1faa27"><div class="ttname"><a href="struct_remote_cfg__.html#a855613aba85834bc8c2b463fbc1faa27">RemoteCfg_::lowOutVoltWarnFlag</a></div><div class="ttdeci">FlagCfgTrig lowOutVoltWarnFlag</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8h_source.html#l00135">cfg.h:135</a></div></div>
<div class="ttc" id="autil_8h_html"><div class="ttname"><a href="util_8h.html">util.h</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648aeb3db3c64f20bc0c5739b9eb627bbb91"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648aeb3db3c64f20bc0c5739b9eb627bbb91">FLAG_CODE_SYSTEM_INIT</a></div><div class="ttdeci">@ FLAG_CODE_SYSTEM_INIT</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00064">flag.h:64</a></div></div>
<div class="ttc" id="astruct_flag_cfg_hold___html"><div class="ttname"><a href="struct_flag_cfg_hold__.html">FlagCfgHold_</a></div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00044">flag.h:45</a></div></div>
<div class="ttc" id="aflag_8h_html_a4ddc0d63fffb880def92d3d06aff1648acc3d873e9945b3b22486957e646f1154"><div class="ttname"><a href="flag_8h.html#a4ddc0d63fffb880def92d3d06aff1648acc3d873e9945b3b22486957e646f1154">FLAG_CODE_TEMP_SENSE_FAULT</a></div><div class="ttdeci">@ FLAG_CODE_TEMP_SENSE_FAULT</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00074">flag.h:74</a></div></div>
<div class="ttc" id="aflag_8c_html_aca929b2ff9043d2ccb2ba63217d87094"><div class="ttname"><a href="flag_8c.html#aca929b2ff9043d2ccb2ba63217d87094">FLAG_initTrigs</a></div><div class="ttdeci">void FLAG_initTrigs(void)</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00158">flag.c:158</a></div></div>
<div class="ttc" id="astruct_flag_cfg_hold___html_a8bfb40a822e45fc7b616f5a0c7f89457"><div class="ttname"><a href="struct_flag_cfg_hold__.html#a8bfb40a822e45fc7b616f5a0c7f89457">FlagCfgHold_::holdTime</a></div><div class="ttdeci">TimeShort holdTime</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00050">flag.h:50</a></div></div>
<div class="ttc" id="astruct_flag_states___html_a4267ff9cf2eabb5d6e6285a7eee46a1b"><div class="ttname"><a href="struct_flag_states__.html#a4267ff9cf2eabb5d6e6285a7eee46a1b">FlagStates_::panelMissingFlag</a></div><div class="ttdeci">FlagState panelMissingFlag</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00064">flag.c:64</a></div></div>
<div class="ttc" id="aflash_8h_html"><div class="ttname"><a href="flash_8h.html">flash.h</a></div></div>
<div class="ttc" id="autil_8c_html_ae814ed393bade374040e928161feb70f"><div class="ttname"><a href="util_8c.html#ae814ed393bade374040e928161feb70f">UTIL_modAdd</a></div><div class="ttdeci">int UTIL_modAdd(int x, int y, int M)</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00015">util.c:15</a></div></div>
<div class="ttc" id="astruct_flag_cfg_sched___html_a3252067045c18caa89e6f40f54fecdea"><div class="ttname"><a href="struct_flag_cfg_sched__.html#a3252067045c18caa89e6f40f54fecdea">FlagCfgSched_::mode</a></div><div class="ttdeci">FLAG_Mode mode</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00056">flag.h:56</a></div></div>
<div class="ttc" id="astruct_flag_states___html_afb5ef5887210a22d7493f5e3c7fc61d2"><div class="ttname"><a href="struct_flag_states__.html#afb5ef5887210a22d7493f5e3c7fc61d2">FlagStates_::sdFlags</a></div><div class="ttdeci">FLAG_State sdFlags[SAFETY_NUM_SD_REASONS]</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00062">flag.c:62</a></div></div>
<div class="ttc" id="astruct_flag_states___html_ace5f68cedfd0c8a424ae4a4a29270a25"><div class="ttname"><a href="struct_flag_states__.html#ace5f68cedfd0c8a424ae4a4a29270a25">FlagStates_::systemInitFlag</a></div><div class="ttdeci">FLAG_State systemInitFlag</div><div class="ttdef"><b>Definition:</b> <a href="flag_8c_source.html#l00051">flag.c:51</a></div></div>
<div class="ttc" id="aflag_8c_html_a5ef29bd8c6ba7b16287afd9a9235b57a"><div class="ttname"><a href="flag_8c.html#a5ef29bd8c6ba7b16287afd9a9235b57a">Flag</a></div><div class="ttdeci">struct Flag_ Flag</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
