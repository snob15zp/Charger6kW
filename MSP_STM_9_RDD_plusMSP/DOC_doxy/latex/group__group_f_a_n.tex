\hypertarget{group__group_f_a_n}{}\doxysection{F\+AN}
\label{group__group_f_a_n}\index{FAN@{FAN}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group__group_f_a_n_ga8122064b26eb564e1f005d71f9ed4123}{I\+O\+\_\+set\+Fan\+Duty\+Cycle}} (unsigned int fan\+Duty)
\begin{DoxyCompactList}\small\item\em Limits fan\+Duty. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__group_f_a_n_gafe3992ff4de6ea1f4b8df6881647e622}{I\+O\+\_\+fan\+Drv\+P\+WM}} ()
\begin{DoxyCompactList}\small\item\em Program P\+WM for F\+AN. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__group_f_a_n_ga06f1f38191226542867d3269a012d522}{I\+O\+\_\+fan\+Sense\+Speed}} ()
\begin{DoxyCompactList}\small\item\em program counter of edges \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__group_f_a_n_ga5de2a1f6e57f18a921ea9d55831bb4db}{I\+O\+\_\+fan\+Set\+Speed}} ()
\begin{DoxyCompactList}\small\item\em High level logic for F\+AN. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}            FAN                                                     high level logic       limit fanDuty

        mainMSP.c:mainMSPloop()->sch.c:SCH_runActiveTasks()->io.c:IO_fanSetSpeed->io.c:IO_setFanDutyCycle( unsigned int fanDuty);

mainMSP.c:TIM3_IRQHandler(void)->PWM.c:PWM_isr(void)->io.c:IO_fanSenseSpeed(void);

  mainMSP.c:mainMSPloop()->sch.c:SCH_runActiveTasks()->io.c:IO_fanDrvPWM(void);
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{group__group_f_a_n_gafe3992ff4de6ea1f4b8df6881647e622}\label{group__group_f_a_n_gafe3992ff4de6ea1f4b8df6881647e622}} 
\index{FAN@{FAN}!IO\_fanDrvPWM@{IO\_fanDrvPWM}}
\index{IO\_fanDrvPWM@{IO\_fanDrvPWM}!FAN@{FAN}}
\doxysubsubsection{\texorpdfstring{IO\_fanDrvPWM()}{IO\_fanDrvPWM()}}
{\footnotesize\ttfamily void I\+O\+\_\+fan\+Drv\+P\+WM (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Program P\+WM for F\+AN. 



Definition at line 352 of file io.\+c.

\mbox{\Hypertarget{group__group_f_a_n_ga06f1f38191226542867d3269a012d522}\label{group__group_f_a_n_ga06f1f38191226542867d3269a012d522}} 
\index{FAN@{FAN}!IO\_fanSenseSpeed@{IO\_fanSenseSpeed}}
\index{IO\_fanSenseSpeed@{IO\_fanSenseSpeed}!FAN@{FAN}}
\doxysubsubsection{\texorpdfstring{IO\_fanSenseSpeed()}{IO\_fanSenseSpeed()}}
{\footnotesize\ttfamily void I\+O\+\_\+fan\+Sense\+Speed (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



program counter of edges 

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000002}{Todo}}]make fan\+F\+B\+Count1 like fan\+F\+B\+Count2\end{DoxyRefDesc}


F\+AN speed\+: cur\+Fan\+F\+B\+Count1, cur\+Fan\+F\+B\+Count2

Speed analized in \mbox{\hyperlink{group__group_f_a_n_ga5de2a1f6e57f18a921ea9d55831bb4db}{I\+O\+\_\+fan\+Set\+Speed()}}

This is called at the P\+WM frequency which is about every 512us as of revision 133. Rated fan speed is 4300R\+PM which is about 6.\+5 ms between falling edges, or 13ms for a full rotation of the fan. This corresponds to fan\+F\+B\+Period of about 0x0C The safety cutoff for fan\+F\+B\+Period is set to F\+A\+N\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+M\+A\+X\+I\+M\+UM = 0x14 

Definition at line 389 of file io.\+c.

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=273pt]{group__group_f_a_n_ga06f1f38191226542867d3269a012d522_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__group_f_a_n_ga5de2a1f6e57f18a921ea9d55831bb4db}\label{group__group_f_a_n_ga5de2a1f6e57f18a921ea9d55831bb4db}} 
\index{FAN@{FAN}!IO\_fanSetSpeed@{IO\_fanSetSpeed}}
\index{IO\_fanSetSpeed@{IO\_fanSetSpeed}!FAN@{FAN}}
\doxysubsubsection{\texorpdfstring{IO\_fanSetSpeed()}{IO\_fanSetSpeed()}}
{\footnotesize\ttfamily void I\+O\+\_\+fan\+Set\+Speed (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



High level logic for F\+AN. 

Run by scheduler every 2 seconds 

Definition at line 425 of file io.\+c.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=319pt]{group__group_f_a_n_ga5de2a1f6e57f18a921ea9d55831bb4db_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{group__group_f_a_n_ga8122064b26eb564e1f005d71f9ed4123}\label{group__group_f_a_n_ga8122064b26eb564e1f005d71f9ed4123}} 
\index{FAN@{FAN}!IO\_setFanDutyCycle@{IO\_setFanDutyCycle}}
\index{IO\_setFanDutyCycle@{IO\_setFanDutyCycle}!FAN@{FAN}}
\doxysubsubsection{\texorpdfstring{IO\_setFanDutyCycle()}{IO\_setFanDutyCycle()}}
{\footnotesize\ttfamily void I\+O\+\_\+set\+Fan\+Duty\+Cycle (\begin{DoxyParamCaption}\item[{unsigned int}]{fan\+Duty }\end{DoxyParamCaption})}



Limits fan\+Duty. 



Definition at line 194 of file io.\+c.

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=310pt]{group__group_f_a_n_ga8122064b26eb564e1f005d71f9ed4123_icgraph}
\end{center}
\end{figure}
